{"ast":null,"code":"var _jsxFileName = \"/home/brave/Documents/weekendproject/coffeeblog/src/components/LikeButton.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport './LikeButton.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst LikeButton = ({\n  articleId,\n  title\n}) => {\n  _s();\n  const [isLiked, setIsLiked] = useState(false);\n  const [likeCount, setLikeCount] = useState(0);\n  useEffect(() => {\n    // Check if article is already liked\n    const likedArticles = JSON.parse(localStorage.getItem('likedArticles') || '[]');\n    const isArticleLiked = likedArticles.some(article => article.id === articleId);\n    setIsLiked(isArticleLiked);\n\n    // Get like count for this article\n    const likeCounts = JSON.parse(localStorage.getItem('likeCounts') || '{}');\n    setLikeCount(likeCounts[articleId] || 0);\n  }, [articleId]);\n  const handleLikeToggle = () => {\n    const likedArticles = JSON.parse(localStorage.getItem('likedArticles') || '[]');\n    const likeCounts = JSON.parse(localStorage.getItem('likeCounts') || '{}');\n    if (isLiked) {\n      // Remove like\n      const updatedArticles = likedArticles.filter(article => article.id !== articleId);\n      localStorage.setItem('likedArticles', JSON.stringify(updatedArticles));\n\n      // Decrease like count\n      const newCount = Math.max(0, (likeCounts[articleId] || 0) - 1);\n      likeCounts[articleId] = newCount;\n      localStorage.setItem('likeCounts', JSON.stringify(likeCounts));\n      setIsLiked(false);\n      setLikeCount(newCount);\n    } else {\n      // Add like\n      const newLike = {\n        id: articleId,\n        title,\n        likedAt: new Date().toISOString()\n      };\n      const updatedArticles = [...likedArticles, newLike];\n      localStorage.setItem('likedArticles', JSON.stringify(updatedArticles));\n\n      // Increase like count\n      const newCount = (likeCounts[articleId] || 0) + 1;\n      likeCounts[articleId] = newCount;\n      localStorage.setItem('likeCounts', JSON.stringify(likeCounts));\n      setIsLiked(true);\n      setLikeCount(newCount);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"button\", {\n    className: `like-article-btn ${isLiked ? 'liked' : ''}`,\n    onClick: handleLikeToggle,\n    title: isLiked ? 'Unlike article' : 'Like article',\n    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n      className: \"like-icon\",\n      children: isLiked ? 'ðŸ’œ' : 'ðŸ’œ'\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n      className: \"like-text\",\n      children: likeCount > 0 && `${likeCount}`\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 64,\n    columnNumber: 5\n  }, this);\n};\n_s(LikeButton, \"7gpWchtzCKrVCh2gitWVHj0clJI=\");\n_c = LikeButton;\nexport default LikeButton;\nvar _c;\n$RefreshReg$(_c, \"LikeButton\");","map":{"version":3,"names":["React","useState","useEffect","jsxDEV","_jsxDEV","LikeButton","articleId","title","_s","isLiked","setIsLiked","likeCount","setLikeCount","likedArticles","JSON","parse","localStorage","getItem","isArticleLiked","some","article","id","likeCounts","handleLikeToggle","updatedArticles","filter","setItem","stringify","newCount","Math","max","newLike","likedAt","Date","toISOString","className","onClick","children","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/home/brave/Documents/weekendproject/coffeeblog/src/components/LikeButton.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport './LikeButton.css';\n\ninterface LikeButtonProps {\n  articleId: string;\n  title: string;\n}\n\nconst LikeButton: React.FC<LikeButtonProps> = ({\n  articleId,\n  title\n}) => {\n  const [isLiked, setIsLiked] = useState(false);\n  const [likeCount, setLikeCount] = useState(0);\n\n  useEffect(() => {\n    // Check if article is already liked\n    const likedArticles = JSON.parse(localStorage.getItem('likedArticles') || '[]');\n    const isArticleLiked = likedArticles.some((article: any) => article.id === articleId);\n    setIsLiked(isArticleLiked);\n\n    // Get like count for this article\n    const likeCounts = JSON.parse(localStorage.getItem('likeCounts') || '{}');\n    setLikeCount(likeCounts[articleId] || 0);\n  }, [articleId]);\n\n  const handleLikeToggle = () => {\n    const likedArticles = JSON.parse(localStorage.getItem('likedArticles') || '[]');\n    const likeCounts = JSON.parse(localStorage.getItem('likeCounts') || '{}');\n\n    if (isLiked) {\n      // Remove like\n      const updatedArticles = likedArticles.filter((article: any) => article.id !== articleId);\n      localStorage.setItem('likedArticles', JSON.stringify(updatedArticles));\n      \n      // Decrease like count\n      const newCount = Math.max(0, (likeCounts[articleId] || 0) - 1);\n      likeCounts[articleId] = newCount;\n      localStorage.setItem('likeCounts', JSON.stringify(likeCounts));\n      \n      setIsLiked(false);\n      setLikeCount(newCount);\n    } else {\n      // Add like\n      const newLike = {\n        id: articleId,\n        title,\n        likedAt: new Date().toISOString()\n      };\n      const updatedArticles = [...likedArticles, newLike];\n      localStorage.setItem('likedArticles', JSON.stringify(updatedArticles));\n      \n      // Increase like count\n      const newCount = (likeCounts[articleId] || 0) + 1;\n      likeCounts[articleId] = newCount;\n      localStorage.setItem('likeCounts', JSON.stringify(likeCounts));\n      \n      setIsLiked(true);\n      setLikeCount(newCount);\n    }\n  };\n\n  return (\n    <button\n      className={`like-article-btn ${isLiked ? 'liked' : ''}`}\n      onClick={handleLikeToggle}\n      title={isLiked ? 'Unlike article' : 'Like article'}\n    >\n      <span className=\"like-icon\">{isLiked ? 'ðŸ’œ' : 'ðŸ’œ'}</span>\n      <span className=\"like-text\">\n        {likeCount > 0 && `${likeCount}`}\n      </span>\n    </button>\n  );\n};\n\nexport default LikeButton;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}