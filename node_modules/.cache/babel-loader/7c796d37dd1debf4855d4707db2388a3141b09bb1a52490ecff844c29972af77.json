{"ast":null,"code":"import React,{useState,useEffect}from'react';import'./LikeButton.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const LikeButton=_ref=>{let{articleId,title}=_ref;const[isLiked,setIsLiked]=useState(false);const[likeCount,setLikeCount]=useState(0);useEffect(()=>{// Check if article is already liked\nconst likedArticles=JSON.parse(localStorage.getItem('likedArticles')||'[]');const isArticleLiked=likedArticles.some(article=>article.id===articleId);setIsLiked(isArticleLiked);// Get like count for this article\nconst likeCounts=JSON.parse(localStorage.getItem('likeCounts')||'{}');setLikeCount(likeCounts[articleId]||0);},[articleId]);const handleLikeToggle=()=>{const likedArticles=JSON.parse(localStorage.getItem('likedArticles')||'[]');const likeCounts=JSON.parse(localStorage.getItem('likeCounts')||'{}');if(isLiked){// Remove like\nconst updatedArticles=likedArticles.filter(article=>article.id!==articleId);localStorage.setItem('likedArticles',JSON.stringify(updatedArticles));// Decrease like count\nconst newCount=Math.max(0,(likeCounts[articleId]||0)-1);likeCounts[articleId]=newCount;localStorage.setItem('likeCounts',JSON.stringify(likeCounts));setIsLiked(false);setLikeCount(newCount);}else{// Add like\nconst newLike={id:articleId,title,likedAt:new Date().toISOString()};const updatedArticles=[...likedArticles,newLike];localStorage.setItem('likedArticles',JSON.stringify(updatedArticles));// Increase like count\nconst newCount=(likeCounts[articleId]||0)+1;likeCounts[articleId]=newCount;localStorage.setItem('likeCounts',JSON.stringify(likeCounts));setIsLiked(true);setLikeCount(newCount);}};return/*#__PURE__*/_jsxs(\"button\",{className:\"like-article-btn \".concat(isLiked?'liked':''),onClick:handleLikeToggle,title:isLiked?'Unlike article':'Like article',children:[/*#__PURE__*/_jsx(\"span\",{className:\"like-icon\",children:isLiked?'ðŸ’œ':'ðŸ’œ'}),/*#__PURE__*/_jsx(\"span\",{className:\"like-text\",children:likeCount>0&&\"\".concat(likeCount)})]});};export default LikeButton;","map":{"version":3,"names":["React","useState","useEffect","jsx","_jsx","jsxs","_jsxs","LikeButton","_ref","articleId","title","isLiked","setIsLiked","likeCount","setLikeCount","likedArticles","JSON","parse","localStorage","getItem","isArticleLiked","some","article","id","likeCounts","handleLikeToggle","updatedArticles","filter","setItem","stringify","newCount","Math","max","newLike","likedAt","Date","toISOString","className","concat","onClick","children"],"sources":["/home/brave/Documents/weekendproject/coffeeblog/src/components/LikeButton.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport './LikeButton.css';\n\ninterface LikeButtonProps {\n  articleId: string;\n  title: string;\n}\n\nconst LikeButton: React.FC<LikeButtonProps> = ({\n  articleId,\n  title\n}) => {\n  const [isLiked, setIsLiked] = useState(false);\n  const [likeCount, setLikeCount] = useState(0);\n\n  useEffect(() => {\n    // Check if article is already liked\n    const likedArticles = JSON.parse(localStorage.getItem('likedArticles') || '[]');\n    const isArticleLiked = likedArticles.some((article: any) => article.id === articleId);\n    setIsLiked(isArticleLiked);\n\n    // Get like count for this article\n    const likeCounts = JSON.parse(localStorage.getItem('likeCounts') || '{}');\n    setLikeCount(likeCounts[articleId] || 0);\n  }, [articleId]);\n\n  const handleLikeToggle = () => {\n    const likedArticles = JSON.parse(localStorage.getItem('likedArticles') || '[]');\n    const likeCounts = JSON.parse(localStorage.getItem('likeCounts') || '{}');\n\n    if (isLiked) {\n      // Remove like\n      const updatedArticles = likedArticles.filter((article: any) => article.id !== articleId);\n      localStorage.setItem('likedArticles', JSON.stringify(updatedArticles));\n      \n      // Decrease like count\n      const newCount = Math.max(0, (likeCounts[articleId] || 0) - 1);\n      likeCounts[articleId] = newCount;\n      localStorage.setItem('likeCounts', JSON.stringify(likeCounts));\n      \n      setIsLiked(false);\n      setLikeCount(newCount);\n    } else {\n      // Add like\n      const newLike = {\n        id: articleId,\n        title,\n        likedAt: new Date().toISOString()\n      };\n      const updatedArticles = [...likedArticles, newLike];\n      localStorage.setItem('likedArticles', JSON.stringify(updatedArticles));\n      \n      // Increase like count\n      const newCount = (likeCounts[articleId] || 0) + 1;\n      likeCounts[articleId] = newCount;\n      localStorage.setItem('likeCounts', JSON.stringify(likeCounts));\n      \n      setIsLiked(true);\n      setLikeCount(newCount);\n    }\n  };\n\n  return (\n    <button\n      className={`like-article-btn ${isLiked ? 'liked' : ''}`}\n      onClick={handleLikeToggle}\n      title={isLiked ? 'Unlike article' : 'Like article'}\n    >\n      <span className=\"like-icon\">{isLiked ? 'ðŸ’œ' : 'ðŸ’œ'}</span>\n      <span className=\"like-text\">\n        {likeCount > 0 && `${likeCount}`}\n      </span>\n    </button>\n  );\n};\n\nexport default LikeButton;\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,MAAO,kBAAkB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAO1B,KAAM,CAAAC,UAAqC,CAAGC,IAAA,EAGxC,IAHyC,CAC7CC,SAAS,CACTC,KACF,CAAC,CAAAF,IAAA,CACC,KAAM,CAACG,OAAO,CAAEC,UAAU,CAAC,CAAGX,QAAQ,CAAC,KAAK,CAAC,CAC7C,KAAM,CAACY,SAAS,CAAEC,YAAY,CAAC,CAAGb,QAAQ,CAAC,CAAC,CAAC,CAE7CC,SAAS,CAAC,IAAM,CACd;AACA,KAAM,CAAAa,aAAa,CAAGC,IAAI,CAACC,KAAK,CAACC,YAAY,CAACC,OAAO,CAAC,eAAe,CAAC,EAAI,IAAI,CAAC,CAC/E,KAAM,CAAAC,cAAc,CAAGL,aAAa,CAACM,IAAI,CAAEC,OAAY,EAAKA,OAAO,CAACC,EAAE,GAAKd,SAAS,CAAC,CACrFG,UAAU,CAACQ,cAAc,CAAC,CAE1B;AACA,KAAM,CAAAI,UAAU,CAAGR,IAAI,CAACC,KAAK,CAACC,YAAY,CAACC,OAAO,CAAC,YAAY,CAAC,EAAI,IAAI,CAAC,CACzEL,YAAY,CAACU,UAAU,CAACf,SAAS,CAAC,EAAI,CAAC,CAAC,CAC1C,CAAC,CAAE,CAACA,SAAS,CAAC,CAAC,CAEf,KAAM,CAAAgB,gBAAgB,CAAGA,CAAA,GAAM,CAC7B,KAAM,CAAAV,aAAa,CAAGC,IAAI,CAACC,KAAK,CAACC,YAAY,CAACC,OAAO,CAAC,eAAe,CAAC,EAAI,IAAI,CAAC,CAC/E,KAAM,CAAAK,UAAU,CAAGR,IAAI,CAACC,KAAK,CAACC,YAAY,CAACC,OAAO,CAAC,YAAY,CAAC,EAAI,IAAI,CAAC,CAEzE,GAAIR,OAAO,CAAE,CACX;AACA,KAAM,CAAAe,eAAe,CAAGX,aAAa,CAACY,MAAM,CAAEL,OAAY,EAAKA,OAAO,CAACC,EAAE,GAAKd,SAAS,CAAC,CACxFS,YAAY,CAACU,OAAO,CAAC,eAAe,CAAEZ,IAAI,CAACa,SAAS,CAACH,eAAe,CAAC,CAAC,CAEtE;AACA,KAAM,CAAAI,QAAQ,CAAGC,IAAI,CAACC,GAAG,CAAC,CAAC,CAAE,CAACR,UAAU,CAACf,SAAS,CAAC,EAAI,CAAC,EAAI,CAAC,CAAC,CAC9De,UAAU,CAACf,SAAS,CAAC,CAAGqB,QAAQ,CAChCZ,YAAY,CAACU,OAAO,CAAC,YAAY,CAAEZ,IAAI,CAACa,SAAS,CAACL,UAAU,CAAC,CAAC,CAE9DZ,UAAU,CAAC,KAAK,CAAC,CACjBE,YAAY,CAACgB,QAAQ,CAAC,CACxB,CAAC,IAAM,CACL;AACA,KAAM,CAAAG,OAAO,CAAG,CACdV,EAAE,CAAEd,SAAS,CACbC,KAAK,CACLwB,OAAO,CAAE,GAAI,CAAAC,IAAI,CAAC,CAAC,CAACC,WAAW,CAAC,CAClC,CAAC,CACD,KAAM,CAAAV,eAAe,CAAG,CAAC,GAAGX,aAAa,CAAEkB,OAAO,CAAC,CACnDf,YAAY,CAACU,OAAO,CAAC,eAAe,CAAEZ,IAAI,CAACa,SAAS,CAACH,eAAe,CAAC,CAAC,CAEtE;AACA,KAAM,CAAAI,QAAQ,CAAG,CAACN,UAAU,CAACf,SAAS,CAAC,EAAI,CAAC,EAAI,CAAC,CACjDe,UAAU,CAACf,SAAS,CAAC,CAAGqB,QAAQ,CAChCZ,YAAY,CAACU,OAAO,CAAC,YAAY,CAAEZ,IAAI,CAACa,SAAS,CAACL,UAAU,CAAC,CAAC,CAE9DZ,UAAU,CAAC,IAAI,CAAC,CAChBE,YAAY,CAACgB,QAAQ,CAAC,CACxB,CACF,CAAC,CAED,mBACExB,KAAA,WACE+B,SAAS,qBAAAC,MAAA,CAAsB3B,OAAO,CAAG,OAAO,CAAG,EAAE,CAAG,CACxD4B,OAAO,CAAEd,gBAAiB,CAC1Bf,KAAK,CAAEC,OAAO,CAAG,gBAAgB,CAAG,cAAe,CAAA6B,QAAA,eAEnDpC,IAAA,SAAMiC,SAAS,CAAC,WAAW,CAAAG,QAAA,CAAE7B,OAAO,CAAG,IAAI,CAAG,IAAI,CAAO,CAAC,cAC1DP,IAAA,SAAMiC,SAAS,CAAC,WAAW,CAAAG,QAAA,CACxB3B,SAAS,CAAG,CAAC,KAAAyB,MAAA,CAAOzB,SAAS,CAAE,CAC5B,CAAC,EACD,CAAC,CAEb,CAAC,CAED,cAAe,CAAAN,UAAU","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}