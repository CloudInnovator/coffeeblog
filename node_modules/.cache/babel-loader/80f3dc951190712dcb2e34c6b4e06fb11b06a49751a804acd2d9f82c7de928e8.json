{"ast":null,"code":"import _objectSpread from\"/home/brave/Documents/weekendproject/coffeeblog/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect}from'react';import{Link}from'react-router-dom';import ArticleEditor from'../components/ArticleEditor';import ArticleManager from'../components/ArticleManager';import'./Dashboard.css';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const Dashboard=_ref=>{var _savedArticles$find;let{isDarkMode}=_ref;const[activeTab,setActiveTab]=useState('saved');const[savedArticles,setSavedArticles]=useState([]);const[userNotes,setUserNotes]=useState([]);const[userComments,setUserComments]=useState([]);const[selectedArticle,setSelectedArticle]=useState(null);const[noteContent,setNoteContent]=useState('');const[isLoggedIn,setIsLoggedIn]=useState(false);const[currentUser,setCurrentUser]=useState(null);const[noteImages,setNoteImages]=useState([]);// Load data from localStorage on component mount\nuseEffect(()=>{const saved=localStorage.getItem('savedArticles');const notes=localStorage.getItem('userNotes');const comments=localStorage.getItem('userComments');const user=localStorage.getItem('currentUser');if(saved)setSavedArticles(JSON.parse(saved));if(notes)setUserNotes(JSON.parse(notes));if(comments)setUserComments(JSON.parse(comments));if(user){const userData=JSON.parse(user);setIsLoggedIn(true);setCurrentUser(userData);}},[]);const handleLogin=(email,username)=>{// Determine role based on email\nlet role='subscriber';switch(email.toLowerCase()){case'admin@test.com':role='admin';break;case'publisher@test.com':role='publisher';break;case'subscriber@test.com':role='subscriber';break;case'donor@test.com':role='donor';break;default:// For any other email, default to subscriber\nrole='subscriber';break;}const user={username,email,role};setIsLoggedIn(true);setCurrentUser(user);localStorage.setItem('currentUser',JSON.stringify(user));};const handleLogout=()=>{setIsLoggedIn(false);setCurrentUser(null);localStorage.removeItem('currentUser');};// Handle saving new articles\nconst handleSaveArticle=article=>{const existingArticles=JSON.parse(localStorage.getItem('userArticles')||'[]');const newArticle=_objectSpread(_objectSpread({},article),{},{id:article.id||Date.now().toString(),date:new Date().toISOString(),saved:true});existingArticles.push(newArticle);localStorage.setItem('userArticles',JSON.stringify(existingArticles));// Show success message and switch to articles tab\nsetActiveTab('articles');};const removeArticle=articleId=>{const updated=savedArticles.filter(article=>article.id!==articleId);setSavedArticles(updated);localStorage.setItem('savedArticles',JSON.stringify(updated));// Also remove associated notes\nconst updatedNotes=userNotes.filter(note=>note.articleId!==articleId);setUserNotes(updatedNotes);localStorage.setItem('userNotes',JSON.stringify(updatedNotes));};const saveNote=articleId=>{if(!noteContent.trim())return;const article=savedArticles.find(a=>a.id===articleId);if(!article)return;const existingNoteIndex=userNotes.findIndex(note=>note.articleId===articleId);const now=new Date().toISOString();if(existingNoteIndex>=0){// Update existing note\nconst updatedNotes=[...userNotes];updatedNotes[existingNoteIndex]=_objectSpread(_objectSpread({},updatedNotes[existingNoteIndex]),{},{content:noteContent,images:noteImages,updatedAt:now});setUserNotes(updatedNotes);localStorage.setItem('userNotes',JSON.stringify(updatedNotes));}else{// Create new note\nconst newNote={id:Date.now().toString(),articleId,articleTitle:article.title,content:noteContent,images:noteImages,createdAt:now,updatedAt:now};const updatedNotes=[...userNotes,newNote];setUserNotes(updatedNotes);localStorage.setItem('userNotes',JSON.stringify(updatedNotes));}setNoteContent('');setNoteImages([]);setSelectedArticle(null);};const deleteNote=noteId=>{const updatedNotes=userNotes.filter(note=>note.id!==noteId);setUserNotes(updatedNotes);localStorage.setItem('userNotes',JSON.stringify(updatedNotes));};const getArticleNote=articleId=>{return userNotes.find(note=>note.articleId===articleId);};const openNoteEditor=articleId=>{const existingNote=getArticleNote(articleId);setSelectedArticle(articleId);setNoteContent(existingNote?existingNote.content:'');setNoteImages((existingNote===null||existingNote===void 0?void 0:existingNote.images)||[]);};const handleImageUpload=event=>{const files=event.target.files;if(files){Array.from(files).forEach(file=>{if(file.type.startsWith('image/')){const reader=new FileReader();reader.onload=e=>{var _e$target;const imageDataUrl=(_e$target=e.target)===null||_e$target===void 0?void 0:_e$target.result;setNoteImages(prev=>[...prev,imageDataUrl]);};reader.readAsDataURL(file);}});}};const removeImage=index=>{setNoteImages(prev=>prev.filter((_,i)=>i!==index));};const LoginForm=()=>{const[loginEmail,setLoginEmail]=useState('');const[loginUsername,setLoginUsername]=useState('');const handleSubmit=e=>{e.preventDefault();if(loginEmail.trim()&&loginUsername.trim()){handleLogin(loginEmail.trim(),loginUsername.trim());}};const getRoleFromEmail=email=>{switch(email.toLowerCase()){case'admin@test.com':return'Admin';case'publisher@test.com':return'Publisher';case'subscriber@test.com':return'Subscriber';case'donor@test.com':return'Donor';default:return'Subscriber (default)';}};return/*#__PURE__*/_jsxs(\"div\",{className:\"login-form\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Login to Dashboard\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"input\",{type:\"email\",placeholder:\"Enter email address\",value:loginEmail,onChange:e=>setLoginEmail(e.target.value),required:true}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Enter display name\",value:loginUsername,onChange:e=>setLoginUsername(e.target.value),required:true}),loginEmail&&/*#__PURE__*/_jsx(\"div\",{className:\"role-preview\",children:/*#__PURE__*/_jsxs(\"span\",{children:[\"Role: \",getRoleFromEmail(loginEmail)]})}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Login\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"role-descriptions\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Test Accounts:\"}),/*#__PURE__*/_jsxs(\"ul\",{children:[/*#__PURE__*/_jsxs(\"li\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"admin@test.com:\"}),\" Full access including managing donations and subscriptions\"]}),/*#__PURE__*/_jsxs(\"li\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"publisher@test.com:\"}),\" Create and manage articles, suggest edits\"]}),/*#__PURE__*/_jsxs(\"li\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"subscriber@test.com:\"}),\" Save articles, make notes, comment\"]}),/*#__PURE__*/_jsxs(\"li\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"donor@test.com:\"}),\" Subscriber features + manage recurring donations\"]})]}),/*#__PURE__*/_jsx(\"p\",{children:/*#__PURE__*/_jsx(\"small\",{children:\"Any other email will default to subscriber role.\"})})]})]});};const SubscriptionManager=()=>{const[subscriptions,setSubscriptions]=useState([]);const[loading,setLoading]=useState(true);useEffect(()=>{// Load subscriptions from localStorage\nconst storedSubscriptions=localStorage.getItem('emailSubscriptions');if(storedSubscriptions){setSubscriptions(JSON.parse(storedSubscriptions));}setLoading(false);},[]);const deleteSubscription=email=>{const updatedSubscriptions=subscriptions.filter(sub=>sub.email!==email);setSubscriptions(updatedSubscriptions);localStorage.setItem('emailSubscriptions',JSON.stringify(updatedSubscriptions));};if(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"loading\",children:\"Loading subscriptions...\"});}return/*#__PURE__*/_jsxs(\"div\",{className:\"subscription-manager\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Manage Email Subscriptions\"}),subscriptions.length===0?/*#__PURE__*/_jsxs(\"div\",{className:\"empty-state\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"No email subscriptions yet\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Users haven't subscribed to notifications yet.\"})]}):/*#__PURE__*/_jsx(\"div\",{className:\"subscriptions-list\",children:subscriptions.map((subscription,index)=>{var _subscription$categor;return/*#__PURE__*/_jsxs(\"div\",{className:\"subscription-item\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"subscription-info\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"email\",children:subscription.email}),/*#__PURE__*/_jsxs(\"div\",{className:\"categories\",children:[\"Categories: \",((_subscription$categor=subscription.categories)===null||_subscription$categor===void 0?void 0:_subscription$categor.join(', '))||'All']}),/*#__PURE__*/_jsxs(\"div\",{className:\"date\",children:[\"Subscribed: \",new Date(subscription.subscribedAt).toLocaleDateString()]})]}),/*#__PURE__*/_jsx(\"button\",{className:\"delete-btn\",onClick:()=>deleteSubscription(subscription.email),children:\"Remove\"})]},index);})})]});};const DonationManager=()=>{const[donations,setDonations]=useState([]);const[stats,setStats]=useState({total:0,count:0});useEffect(()=>{// Load donations from localStorage (in a real app, this would be from a backend)\nconst storedDonations=localStorage.getItem('donations');if(storedDonations){const donationList=JSON.parse(storedDonations);setDonations(donationList);// Calculate stats\nconst total=donationList.reduce((sum,donation)=>sum+(donation.amount||0),0);setStats({total,count:donationList.length});}else{// Initialize test data if not exists\nconst testDonations=[{id:'1',amount:25,message:'Love your coffee blog articles!',donorName:'John Doe',donorEmail:'donor@test.com',isRecurring:true,date:new Date('2024-12-01').toISOString()},{id:'2',amount:10,message:'Great work on the design systems article!',donorName:'Anonymous',donorEmail:'anonymous@example.com',isRecurring:false,date:new Date('2024-12-15').toISOString()}];localStorage.setItem('donations',JSON.stringify(testDonations));}},[]);const addTestDonation=()=>{const testDonation={id:Date.now().toString(),amount:Math.floor(Math.random()*50)+5,message:'Thank you for the great content!',donorName:'Anonymous',donorEmail:'anonymous@example.com',isRecurring:Math.random()>0.7,date:new Date().toISOString()};const updatedDonations=[...donations,testDonation];setDonations(updatedDonations);localStorage.setItem('donations',JSON.stringify(updatedDonations));// Update stats\nconst total=updatedDonations.reduce((sum,donation)=>sum+donation.amount,0);setStats({total,count:updatedDonations.length});};return/*#__PURE__*/_jsxs(\"div\",{className:\"donation-manager\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Manage Donations\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"donation-stats\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"stat-card\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"stat-value\",children:[\"$\",stats.total]}),/*#__PURE__*/_jsx(\"div\",{className:\"stat-label\",children:\"Total Raised\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"stat-card\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"stat-value\",children:stats.count}),/*#__PURE__*/_jsx(\"div\",{className:\"stat-label\",children:\"Total Donations\"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"donation-actions\",children:/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-primary\",onClick:addTestDonation,children:\"Add Test Donation\"})}),donations.length===0?/*#__PURE__*/_jsxs(\"div\",{className:\"empty-state\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"No donations yet\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Donations will appear here when supporters contribute.\"})]}):/*#__PURE__*/_jsx(\"div\",{className:\"donations-list\",children:donations.map(donation=>/*#__PURE__*/_jsx(\"div\",{className:\"donation-item\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"donation-info\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"amount\",children:[\"$\",donation.amount]}),/*#__PURE__*/_jsxs(\"div\",{className:\"donor\",children:[donation.donorName,\" (\",donation.donorEmail,\")\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"message\",children:[\"\\\"\",donation.message,\"\\\"\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"donation-meta\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"date\",children:new Date(donation.date).toLocaleDateString()}),donation.isRecurring&&/*#__PURE__*/_jsx(\"span\",{className:\"recurring-badge\",children:\"Recurring\"}),donation.stoppedAt&&/*#__PURE__*/_jsx(\"span\",{className:\"stopped-badge\",children:\"Stopped\"})]})]})},donation.id))})]});};const DonorSubscriptionManager=()=>{const[donations,setDonations]=useState([]);const[isRecurring,setIsRecurring]=useState(false);useEffect(()=>{// Load user's donations from localStorage\nconst userEmail=currentUser===null||currentUser===void 0?void 0:currentUser.email;const allDonations=JSON.parse(localStorage.getItem('donations')||'[]');// Filter donations for current user\nconst userDonations=allDonations.filter(donation=>donation.donorEmail===userEmail);setDonations(userDonations);// Check if user has recurring donations\nconst hasRecurring=userDonations.some(donation=>donation.isRecurring);setIsRecurring(hasRecurring);},[currentUser===null||currentUser===void 0?void 0:currentUser.email]);const stopRecurringDonations=()=>{const userEmail=currentUser===null||currentUser===void 0?void 0:currentUser.email;const allDonations=JSON.parse(localStorage.getItem('donations')||'[]');// Update donations to stop recurring ones\nconst updatedDonations=allDonations.map(donation=>{if(donation.donorEmail===userEmail&&donation.isRecurring){return _objectSpread(_objectSpread({},donation),{},{isRecurring:false,stoppedAt:new Date().toISOString()});}return donation;});localStorage.setItem('donations',JSON.stringify(updatedDonations));// Update local state\nconst userDonations=updatedDonations.filter(donation=>donation.donorEmail===userEmail);setDonations(userDonations);setIsRecurring(false);};const addTestDonation=()=>{const newDonation={id:Date.now().toString(),amount:Math.floor(Math.random()*50)+5,message:'Thank you for the great content!',donorName:(currentUser===null||currentUser===void 0?void 0:currentUser.username)||'Anonymous',donorEmail:currentUser===null||currentUser===void 0?void 0:currentUser.email,isRecurring:Math.random()>0.5,date:new Date().toISOString()};const allDonations=JSON.parse(localStorage.getItem('donations')||'[]');const updatedDonations=[...allDonations,newDonation];localStorage.setItem('donations',JSON.stringify(updatedDonations));setDonations(prev=>[...prev,newDonation]);setIsRecurring(newDonation.isRecurring||isRecurring);};const totalDonated=donations.reduce((sum,donation)=>sum+(donation.amount||0),0);return/*#__PURE__*/_jsxs(\"div\",{className:\"donor-subscription-manager\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"My Donations\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"donor-stats\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"stat-card\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"stat-value\",children:[\"$\",totalDonated]}),/*#__PURE__*/_jsx(\"div\",{className:\"stat-label\",children:\"Total Contributed\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"stat-card\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"stat-value\",children:donations.length}),/*#__PURE__*/_jsx(\"div\",{className:\"stat-label\",children:\"Total Donations\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"stat-card\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"stat-value\",children:isRecurring?'Active':'None'}),/*#__PURE__*/_jsx(\"div\",{className:\"stat-label\",children:\"Recurring Status\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"donor-actions\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-primary\",onClick:addTestDonation,children:\"Make Test Donation\"}),isRecurring&&/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-danger\",onClick:stopRecurringDonations,children:\"Stop Recurring Donations\"})]}),donations.length===0?/*#__PURE__*/_jsxs(\"div\",{className:\"empty-state\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"No donations yet\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Your donation history will appear here.\"})]}):/*#__PURE__*/_jsx(\"div\",{className:\"donations-list\",children:donations.map(donation=>/*#__PURE__*/_jsx(\"div\",{className:\"donation-item\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"donation-info\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"amount\",children:[\"$\",donation.amount]}),/*#__PURE__*/_jsxs(\"div\",{className:\"message\",children:[\"\\\"\",donation.message,\"\\\"\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"donation-meta\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"date\",children:new Date(donation.date).toLocaleDateString()}),donation.isRecurring&&/*#__PURE__*/_jsx(\"span\",{className:\"recurring-badge\",children:\"Recurring\"}),donation.stoppedAt&&/*#__PURE__*/_jsxs(\"span\",{className:\"stopped-badge\",children:[\"Stopped \",new Date(donation.stoppedAt).toLocaleDateString()]})]})]})},donation.id))})]});};if(!isLoggedIn){return/*#__PURE__*/_jsx(\"div\",{className:\"dashboard \".concat(isDarkMode?'dark-mode':''),children:/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:/*#__PURE__*/_jsx(LoginForm,{})})});}return/*#__PURE__*/_jsx(\"div\",{className:\"dashboard \".concat(isDarkMode?'dark-mode':''),children:/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"dashboard-header\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Dashboard\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"user-info\",children:[/*#__PURE__*/_jsxs(\"span\",{children:[\"Welcome, \",currentUser===null||currentUser===void 0?void 0:currentUser.username,\" (\",currentUser===null||currentUser===void 0?void 0:currentUser.email,\") - \",currentUser===null||currentUser===void 0?void 0:currentUser.role]}),/*#__PURE__*/_jsx(\"button\",{onClick:handleLogout,className:\"logout-btn\",children:\"Logout\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"dashboard-tabs\",children:[/*#__PURE__*/_jsxs(\"button\",{className:\"tab-btn \".concat(activeTab==='saved'?'active':''),onClick:()=>setActiveTab('saved'),children:[\"\\uD83D\\uDCD6 Saved Articles (\",savedArticles.length,\")\"]}),/*#__PURE__*/_jsxs(\"button\",{className:\"tab-btn \".concat(activeTab==='notes'?'active':''),onClick:()=>setActiveTab('notes'),children:[\"\\uD83D\\uDCDD My Notes (\",userNotes.length,\")\"]}),/*#__PURE__*/_jsxs(\"button\",{className:\"tab-btn \".concat(activeTab==='comments'?'active':''),onClick:()=>setActiveTab('comments'),children:[\"\\uD83D\\uDCAC My Comments (\",userComments.length,\")\"]}),((currentUser===null||currentUser===void 0?void 0:currentUser.role)==='publisher'||(currentUser===null||currentUser===void 0?void 0:currentUser.role)==='admin')&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"button\",{className:\"tab-btn \".concat(activeTab==='createArticle'?'active':''),onClick:()=>setActiveTab('createArticle'),children:\"\\u270D\\uFE0F Create Article\"}),/*#__PURE__*/_jsx(\"button\",{className:\"tab-btn \".concat(activeTab==='articles'?'active':''),onClick:()=>setActiveTab('articles'),children:\"\\uD83D\\uDCDA Manage Articles\"})]}),(currentUser===null||currentUser===void 0?void 0:currentUser.role)==='donor'&&/*#__PURE__*/_jsx(\"button\",{className:\"tab-btn \".concat(activeTab==='manageDonorSubscriptions'?'active':''),onClick:()=>setActiveTab('manageDonorSubscriptions'),children:\"\\uD83D\\uDCB3 My Donations\"}),(currentUser===null||currentUser===void 0?void 0:currentUser.role)==='admin'&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"button\",{className:\"tab-btn \".concat(activeTab==='manageSubscriptions'?'active':''),onClick:()=>setActiveTab('manageSubscriptions'),children:\"\\uD83D\\uDCE7 Manage Subscriptions\"}),/*#__PURE__*/_jsx(\"button\",{className:\"tab-btn \".concat(activeTab==='manageDonations'?'active':''),onClick:()=>setActiveTab('manageDonations'),children:\"\\u2615 Manage Donations\"})]})]}),activeTab==='saved'&&/*#__PURE__*/_jsx(\"div\",{className:\"saved-articles-section\",children:savedArticles.length===0?/*#__PURE__*/_jsxs(\"div\",{className:\"empty-state\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"empty-icon\",children:\"\\uD83D\\uDCDA\"}),/*#__PURE__*/_jsx(\"h3\",{children:\"No saved articles yet\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Start saving articles you want to read later!\"}),/*#__PURE__*/_jsx(Link,{to:\"/blog\",className:\"btn btn-primary\",children:\"Browse Articles\"})]}):/*#__PURE__*/_jsx(\"div\",{className:\"articles-grid\",children:savedArticles.map(article=>{const note=getArticleNote(article.id);return/*#__PURE__*/_jsxs(\"div\",{className:\"saved-article-card\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"article-header\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"category-badge\",children:article.category}),/*#__PURE__*/_jsx(\"button\",{className:\"remove-btn\",onClick:()=>removeArticle(article.id),title:\"Remove from saved\",children:\"\\xD7\"})]}),/*#__PURE__*/_jsx(\"h3\",{className:\"article-title\",children:/*#__PURE__*/_jsx(Link,{to:article.url,children:article.title})}),/*#__PURE__*/_jsx(\"p\",{className:\"article-excerpt\",children:article.excerpt}),/*#__PURE__*/_jsxs(\"div\",{className:\"article-footer\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"saved-date\",children:[\"Saved \",new Date(article.savedAt).toLocaleDateString()]}),/*#__PURE__*/_jsxs(\"div\",{className:\"article-actions\",children:[note?/*#__PURE__*/_jsx(\"button\",{className:\"note-btn has-note\",onClick:()=>openNoteEditor(article.id),children:\"\\uD83D\\uDCDD Edit Note\"}):/*#__PURE__*/_jsx(\"button\",{className:\"note-btn\",onClick:()=>openNoteEditor(article.id),children:\"\\uD83D\\uDCDD Add Note\"}),/*#__PURE__*/_jsx(Link,{to:article.url,className:\"read-btn\",children:\"Read Article \\u2192\"})]})]})]},article.id);})})}),activeTab==='notes'&&/*#__PURE__*/_jsx(\"div\",{className:\"notes-section\",children:userNotes.length===0?/*#__PURE__*/_jsxs(\"div\",{className:\"empty-state\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"empty-icon\",children:\"\\uD83D\\uDCDD\"}),/*#__PURE__*/_jsx(\"h3\",{children:\"No notes yet\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Add private notes to your saved articles!\"}),/*#__PURE__*/_jsx(Link,{to:\"/blog\",className:\"btn btn-primary\",children:\"Browse Articles\"})]}):/*#__PURE__*/_jsx(\"div\",{className:\"notes-grid\",children:userNotes.map(note=>/*#__PURE__*/_jsxs(\"div\",{className:\"note-card\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"note-header\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"note-article-info\",children:/*#__PURE__*/_jsx(Link,{to:\"/blog/\".concat(note.articleId),className:\"note-article-title\",children:note.articleTitle})}),/*#__PURE__*/_jsx(\"button\",{className:\"delete-note-btn\",onClick:()=>deleteNote(note.id),title:\"Delete note\",children:\"\\uD83D\\uDDD1\\uFE0F\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"note-content\",children:note.content}),/*#__PURE__*/_jsx(\"div\",{className:\"note-images\",children:note.images&&note.images.length>0&&/*#__PURE__*/_jsx(\"div\",{className:\"images-grid\",children:note.images.map((image,index)=>/*#__PURE__*/_jsxs(\"div\",{className:\"image-item\",children:[/*#__PURE__*/_jsx(\"img\",{src:image,alt:\"Note image \".concat(index+1),className:\"note-image\"}),/*#__PURE__*/_jsx(\"button\",{className:\"remove-image-btn\",onClick:()=>removeImage(index),title:\"Remove image\",children:\"\\xD7\"})]},index))})}),/*#__PURE__*/_jsxs(\"div\",{className:\"note-meta\",children:[/*#__PURE__*/_jsxs(\"span\",{children:[\"Created: \",new Date(note.createdAt).toLocaleDateString()]}),note.updatedAt!==note.createdAt&&/*#__PURE__*/_jsxs(\"span\",{children:[\"Updated: \",new Date(note.updatedAt).toLocaleDateString()]})]})]},note.id))})}),activeTab==='comments'&&/*#__PURE__*/_jsx(\"div\",{className:\"comments-section\",children:userComments.length===0?/*#__PURE__*/_jsxs(\"div\",{className:\"empty-state\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"empty-icon\",children:\"\\uD83D\\uDCAC\"}),/*#__PURE__*/_jsx(\"h3\",{children:\"No comments yet\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Start commenting on articles!\"}),/*#__PURE__*/_jsx(Link,{to:\"/blog\",className:\"btn btn-primary\",children:\"Browse Articles\"})]}):/*#__PURE__*/_jsx(\"div\",{className:\"comments-grid\",children:userComments.map(comment=>/*#__PURE__*/_jsxs(\"div\",{className:\"comment-card\",children:[/*#__PURE__*/_jsx(\"h4\",{children:comment.articleTitle}),/*#__PURE__*/_jsx(\"div\",{className:\"comment-content\",children:comment.content}),/*#__PURE__*/_jsxs(\"div\",{className:\"comment-meta\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"date\",children:comment.date}),/*#__PURE__*/_jsx(\"span\",{className:\"comment-type\",children:comment.isAnonymous?'Anonymous':\"As \".concat(comment.username)})]})]},comment.id))})}),selectedArticle&&/*#__PURE__*/_jsx(\"div\",{className:\"note-modal-overlay\",onClick:()=>setSelectedArticle(null),children:/*#__PURE__*/_jsxs(\"div\",{className:\"note-modal\",onClick:e=>e.stopPropagation(),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"note-modal-header\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Add/Edit Private Note\"}),/*#__PURE__*/_jsx(\"button\",{className:\"close-btn\",onClick:()=>setSelectedArticle(null),children:\"\\xD7\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"note-modal-body\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"article-info\",children:(_savedArticles$find=savedArticles.find(a=>a.id===selectedArticle))===null||_savedArticles$find===void 0?void 0:_savedArticles$find.title}),/*#__PURE__*/_jsx(\"textarea\",{value:noteContent,onChange:e=>setNoteContent(e.target.value),placeholder:\"Write your private note here... (only you can see this)\",className:\"note-textarea\",rows:6}),/*#__PURE__*/_jsxs(\"div\",{className:\"note-images-section\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"image-upload-area\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"note-image-upload\",className:\"image-upload-btn\",children:\"\\uD83D\\uDCF7 Add Images\"}),/*#__PURE__*/_jsx(\"input\",{id:\"note-image-upload\",type:\"file\",accept:\"image/*\",multiple:true,onChange:handleImageUpload,style:{display:'none'}})]}),noteImages.length>0&&/*#__PURE__*/_jsx(\"div\",{className:\"uploaded-images\",children:noteImages.map((image,index)=>/*#__PURE__*/_jsxs(\"div\",{className:\"image-preview\",children:[/*#__PURE__*/_jsx(\"img\",{src:image,alt:\"Note image \".concat(index+1)}),/*#__PURE__*/_jsx(\"button\",{className:\"remove-image-btn\",onClick:()=>removeImage(index),children:\"\\xD7\"})]},index))})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"note-modal-footer\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-secondary\",onClick:()=>setSelectedArticle(null),children:\"Cancel\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-primary\",onClick:()=>saveNote(selectedArticle),children:\"Save Note\"})]})]})}),activeTab==='createArticle'&&((currentUser===null||currentUser===void 0?void 0:currentUser.role)==='publisher'||(currentUser===null||currentUser===void 0?void 0:currentUser.role)==='admin')&&/*#__PURE__*/_jsx(\"div\",{className:\"create-article-section\",children:/*#__PURE__*/_jsx(ArticleEditor,{onSave:handleSaveArticle,onCancel:()=>setActiveTab('saved')})}),activeTab==='articles'&&((currentUser===null||currentUser===void 0?void 0:currentUser.role)==='publisher'||(currentUser===null||currentUser===void 0?void 0:currentUser.role)==='admin')&&/*#__PURE__*/_jsx(\"div\",{className:\"manage-articles-section\",children:/*#__PURE__*/_jsx(ArticleManager,{onClose:()=>setActiveTab('saved')})}),activeTab==='manageDonorSubscriptions'&&(currentUser===null||currentUser===void 0?void 0:currentUser.role)==='donor'&&/*#__PURE__*/_jsx(\"div\",{className:\"manage-donor-subscriptions-section\",children:/*#__PURE__*/_jsx(DonorSubscriptionManager,{})}),activeTab==='manageSubscriptions'&&(currentUser===null||currentUser===void 0?void 0:currentUser.role)==='admin'&&/*#__PURE__*/_jsx(\"div\",{className:\"manage-subscriptions-section\",children:/*#__PURE__*/_jsx(SubscriptionManager,{})}),activeTab==='manageDonations'&&(currentUser===null||currentUser===void 0?void 0:currentUser.role)==='admin'&&/*#__PURE__*/_jsx(\"div\",{className:\"manage-donations-section\",children:/*#__PURE__*/_jsx(DonationManager,{})}),activeTab==='manageDonorSubscriptions'&&(currentUser===null||currentUser===void 0?void 0:currentUser.role)==='donor'&&/*#__PURE__*/_jsx(\"div\",{className:\"manage-donor-subscriptions-section\",children:/*#__PURE__*/_jsx(DonorSubscriptionManager,{})})]})});};export default Dashboard;","map":{"version":3,"names":["React","useState","useEffect","Link","ArticleEditor","ArticleManager","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Dashboard","_ref","_savedArticles$find","isDarkMode","activeTab","setActiveTab","savedArticles","setSavedArticles","userNotes","setUserNotes","userComments","setUserComments","selectedArticle","setSelectedArticle","noteContent","setNoteContent","isLoggedIn","setIsLoggedIn","currentUser","setCurrentUser","noteImages","setNoteImages","saved","localStorage","getItem","notes","comments","user","JSON","parse","userData","handleLogin","email","username","role","toLowerCase","setItem","stringify","handleLogout","removeItem","handleSaveArticle","article","existingArticles","newArticle","_objectSpread","id","Date","now","toString","date","toISOString","push","removeArticle","articleId","updated","filter","updatedNotes","note","saveNote","trim","find","a","existingNoteIndex","findIndex","content","images","updatedAt","newNote","articleTitle","title","createdAt","deleteNote","noteId","getArticleNote","openNoteEditor","existingNote","handleImageUpload","event","files","target","Array","from","forEach","file","type","startsWith","reader","FileReader","onload","e","_e$target","imageDataUrl","result","prev","readAsDataURL","removeImage","index","_","i","LoginForm","loginEmail","setLoginEmail","loginUsername","setLoginUsername","handleSubmit","preventDefault","getRoleFromEmail","className","children","onSubmit","placeholder","value","onChange","required","SubscriptionManager","subscriptions","setSubscriptions","loading","setLoading","storedSubscriptions","deleteSubscription","updatedSubscriptions","sub","length","map","subscription","_subscription$categor","categories","join","subscribedAt","toLocaleDateString","onClick","DonationManager","donations","setDonations","stats","setStats","total","count","storedDonations","donationList","reduce","sum","donation","amount","testDonations","message","donorName","donorEmail","isRecurring","addTestDonation","testDonation","Math","floor","random","updatedDonations","stoppedAt","DonorSubscriptionManager","setIsRecurring","userEmail","allDonations","userDonations","hasRecurring","some","stopRecurringDonations","newDonation","totalDonated","concat","to","category","url","excerpt","savedAt","image","src","alt","comment","isAnonymous","stopPropagation","rows","htmlFor","accept","multiple","style","display","onSave","onCancel","onClose"],"sources":["/home/brave/Documents/weekendproject/coffeeblog/src/pages/Dashboard.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport ArticleEditor from '../components/ArticleEditor';\nimport ArticleManager from '../components/ArticleManager';\nimport { ArticleData } from '../components/ArticleEditor';\nimport './Dashboard.css';\n\nexport interface SavedArticle {\n  id: string;\n  title: string;\n  excerpt: string;\n  category: string;\n  url: string;\n  savedAt: string;\n}\n\nexport interface UserNote {\n  id: string;\n  articleId: string;\n  articleTitle: string;\n  content: string;\n  images?: string[];\n  createdAt: string;\n  updatedAt: string;\n}\n\nexport interface UserComment {\n  id: string;\n  articleId: string;\n  articleTitle: string;\n  content: string;\n  date: string;\n  isAnonymous: boolean;\n  username?: string;\n}\n\nexport type UserRole = 'subscriber' | 'publisher' | 'admin' | 'donor';\n\nexport interface User {\n  username: string;\n  email: string;\n  role: UserRole;\n}\n\ninterface DashboardProps {\n  isDarkMode: boolean;\n}\n\nconst Dashboard: React.FC<DashboardProps> = ({ isDarkMode }) => {\n  const [activeTab, setActiveTab] = useState<'saved' | 'notes' | 'comments' | 'articles' | 'createArticle' | 'manageSubscriptions' | 'manageDonations' | 'manageDonorSubscriptions'>('saved');\n  const [savedArticles, setSavedArticles] = useState<SavedArticle[]>([]);\n  const [userNotes, setUserNotes] = useState<UserNote[]>([]);\n  const [userComments, setUserComments] = useState<UserComment[]>([]);\n  const [selectedArticle, setSelectedArticle] = useState<string | null>(null);\n  const [noteContent, setNoteContent] = useState('');\n  const [isLoggedIn, setIsLoggedIn] = useState(false);\n  const [currentUser, setCurrentUser] = useState<User | null>(null);\n  const [noteImages, setNoteImages] = useState<string[]>([]);\n\n\n  // Load data from localStorage on component mount\n  useEffect(() => {\n    const saved = localStorage.getItem('savedArticles');\n    const notes = localStorage.getItem('userNotes');\n    const comments = localStorage.getItem('userComments');\n    const user = localStorage.getItem('currentUser');\n    \n    if (saved) setSavedArticles(JSON.parse(saved));\n    if (notes) setUserNotes(JSON.parse(notes));\n    if (comments) setUserComments(JSON.parse(comments));\n    if (user) {\n      const userData = JSON.parse(user);\n      setIsLoggedIn(true);\n      setCurrentUser(userData);\n    }\n  }, []);\n\n  const handleLogin = (email: string, username: string) => {\n    // Determine role based on email\n    let role: UserRole = 'subscriber';\n    \n    switch (email.toLowerCase()) {\n      case 'admin@test.com':\n        role = 'admin';\n        break;\n      case 'publisher@test.com':\n        role = 'publisher';\n        break;\n      case 'subscriber@test.com':\n        role = 'subscriber';\n        break;\n      case 'donor@test.com':\n        role = 'donor';\n        break;\n      default:\n        // For any other email, default to subscriber\n        role = 'subscriber';\n        break;\n    }\n\n    const user: User = { username, email, role };\n    setIsLoggedIn(true);\n    setCurrentUser(user);\n    localStorage.setItem('currentUser', JSON.stringify(user));\n  };\n\n  const handleLogout = () => {\n    setIsLoggedIn(false);\n    setCurrentUser(null);\n    localStorage.removeItem('currentUser');\n  };\n\n  // Handle saving new articles\n  const handleSaveArticle = (article: ArticleData) => {\n    const existingArticles = JSON.parse(localStorage.getItem('userArticles') || '[]');\n    const newArticle = {\n      ...article,\n      id: article.id || Date.now().toString(),\n      date: new Date().toISOString(),\n      saved: true\n    };\n    \n    existingArticles.push(newArticle);\n    localStorage.setItem('userArticles', JSON.stringify(existingArticles));\n    \n    // Show success message and switch to articles tab\n    setActiveTab('articles');\n  };\n\n  const removeArticle = (articleId: string) => {\n    const updated = savedArticles.filter(article => article.id !== articleId);\n    setSavedArticles(updated);\n    localStorage.setItem('savedArticles', JSON.stringify(updated));\n    \n    // Also remove associated notes\n    const updatedNotes = userNotes.filter(note => note.articleId !== articleId);\n    setUserNotes(updatedNotes);\n    localStorage.setItem('userNotes', JSON.stringify(updatedNotes));\n  };\n\n  const saveNote = (articleId: string) => {\n    if (!noteContent.trim()) return;\n\n    const article = savedArticles.find(a => a.id === articleId);\n    if (!article) return;\n\n    const existingNoteIndex = userNotes.findIndex(note => note.articleId === articleId);\n    const now = new Date().toISOString();\n\n    if (existingNoteIndex >= 0) {\n      // Update existing note\n      const updatedNotes = [...userNotes];\n      updatedNotes[existingNoteIndex] = {\n        ...updatedNotes[existingNoteIndex],\n        content: noteContent,\n        images: noteImages,\n        updatedAt: now\n      };\n      setUserNotes(updatedNotes);\n      localStorage.setItem('userNotes', JSON.stringify(updatedNotes));\n    } else {\n      // Create new note\n      const newNote: UserNote = {\n        id: Date.now().toString(),\n        articleId,\n        articleTitle: article.title,\n        content: noteContent,\n        images: noteImages,\n        createdAt: now,\n        updatedAt: now\n      };\n      const updatedNotes = [...userNotes, newNote];\n      setUserNotes(updatedNotes);\n      localStorage.setItem('userNotes', JSON.stringify(updatedNotes));\n    }\n\n    setNoteContent('');\n    setNoteImages([]);\n    setSelectedArticle(null);\n  };\n\n  const deleteNote = (noteId: string) => {\n    const updatedNotes = userNotes.filter(note => note.id !== noteId);\n    setUserNotes(updatedNotes);\n    localStorage.setItem('userNotes', JSON.stringify(updatedNotes));\n  };\n\n  const getArticleNote = (articleId: string) => {\n    return userNotes.find(note => note.articleId === articleId);\n  };\n\n  const openNoteEditor = (articleId: string) => {\n    const existingNote = getArticleNote(articleId);\n    setSelectedArticle(articleId);\n    setNoteContent(existingNote ? existingNote.content : '');\n    setNoteImages(existingNote?.images || []);\n  };\n\n  const handleImageUpload = (event: React.ChangeEvent<HTMLInputElement>) => {\n    const files = event.target.files;\n    if (files) {\n      Array.from(files).forEach(file => {\n        if (file.type.startsWith('image/')) {\n          const reader = new FileReader();\n          reader.onload = (e) => {\n            const imageDataUrl = e.target?.result as string;\n            setNoteImages(prev => [...prev, imageDataUrl]);\n          };\n          reader.readAsDataURL(file);\n        }\n      });\n    }\n  };\n\n  const removeImage = (index: number) => {\n    setNoteImages(prev => prev.filter((_, i) => i !== index));\n  };\n\n  const LoginForm: React.FC = () => {\n    const [loginEmail, setLoginEmail] = useState('');\n    const [loginUsername, setLoginUsername] = useState('');\n\n    const handleSubmit = (e: React.FormEvent) => {\n      e.preventDefault();\n      if (loginEmail.trim() && loginUsername.trim()) {\n        handleLogin(loginEmail.trim(), loginUsername.trim());\n      }\n    };\n\n    const getRoleFromEmail = (email: string): string => {\n      switch (email.toLowerCase()) {\n        case 'admin@test.com':\n          return 'Admin';\n        case 'publisher@test.com':\n          return 'Publisher';\n        case 'subscriber@test.com':\n          return 'Subscriber';\n        case 'donor@test.com':\n          return 'Donor';\n        default:\n          return 'Subscriber (default)';\n      }\n    };\n\n    return (\n      <div className=\"login-form\">\n        <h3>Login to Dashboard</h3>\n        <form onSubmit={handleSubmit}>\n          <input\n            type=\"email\"\n            placeholder=\"Enter email address\"\n            value={loginEmail}\n            onChange={(e) => setLoginEmail(e.target.value)}\n            required\n          />\n          <input\n            type=\"text\"\n            placeholder=\"Enter display name\"\n            value={loginUsername}\n            onChange={(e) => setLoginUsername(e.target.value)}\n            required\n          />\n          {loginEmail && (\n            <div className=\"role-preview\">\n              <span>Role: {getRoleFromEmail(loginEmail)}</span>\n            </div>\n          )}\n          <button type=\"submit\">Login</button>\n        </form>\n        <div className=\"role-descriptions\">\n          <h4>Test Accounts:</h4>\n          <ul>\n            <li><strong>admin@test.com:</strong> Full access including managing donations and subscriptions</li>\n            <li><strong>publisher@test.com:</strong> Create and manage articles, suggest edits</li>\n            <li><strong>subscriber@test.com:</strong> Save articles, make notes, comment</li>\n            <li><strong>donor@test.com:</strong> Subscriber features + manage recurring donations</li>\n          </ul>\n          <p><small>Any other email will default to subscriber role.</small></p>\n        </div>\n      </div>\n    );\n  };\n\n  const SubscriptionManager: React.FC = () => {\n    const [subscriptions, setSubscriptions] = useState<any[]>([]);\n    const [loading, setLoading] = useState(true);\n\n    useEffect(() => {\n      // Load subscriptions from localStorage\n      const storedSubscriptions = localStorage.getItem('emailSubscriptions');\n      if (storedSubscriptions) {\n        setSubscriptions(JSON.parse(storedSubscriptions));\n      }\n      setLoading(false);\n    }, []);\n\n    const deleteSubscription = (email: string) => {\n      const updatedSubscriptions = subscriptions.filter(sub => sub.email !== email);\n      setSubscriptions(updatedSubscriptions);\n      localStorage.setItem('emailSubscriptions', JSON.stringify(updatedSubscriptions));\n    };\n\n    if (loading) {\n      return <div className=\"loading\">Loading subscriptions...</div>;\n    }\n\n    return (\n      <div className=\"subscription-manager\">\n        <h2>Manage Email Subscriptions</h2>\n        {subscriptions.length === 0 ? (\n          <div className=\"empty-state\">\n            <h3>No email subscriptions yet</h3>\n            <p>Users haven't subscribed to notifications yet.</p>\n          </div>\n        ) : (\n          <div className=\"subscriptions-list\">\n            {subscriptions.map((subscription, index) => (\n              <div key={index} className=\"subscription-item\">\n                <div className=\"subscription-info\">\n                  <div className=\"email\">{subscription.email}</div>\n                  <div className=\"categories\">\n                    Categories: {subscription.categories?.join(', ') || 'All'}\n                  </div>\n                  <div className=\"date\">\n                    Subscribed: {new Date(subscription.subscribedAt).toLocaleDateString()}\n                  </div>\n                </div>\n                <button \n                  className=\"delete-btn\"\n                  onClick={() => deleteSubscription(subscription.email)}\n                >\n                  Remove\n                </button>\n              </div>\n            ))}\n          </div>\n        )}\n      </div>\n    );\n  };\n\n  const DonationManager: React.FC = () => {\n    const [donations, setDonations] = useState<any[]>([]);\n    const [stats, setStats] = useState({ total: 0, count: 0 });\n\n    useEffect(() => {\n      // Load donations from localStorage (in a real app, this would be from a backend)\n      const storedDonations = localStorage.getItem('donations');\n      if (storedDonations) {\n        const donationList = JSON.parse(storedDonations);\n        setDonations(donationList);\n        \n        // Calculate stats\n        const total = donationList.reduce((sum: number, donation: any) => sum + (donation.amount || 0), 0);\n        setStats({ total, count: donationList.length });\n      } else {\n        // Initialize test data if not exists\n        const testDonations = [\n          {\n            id: '1',\n            amount: 25,\n            message: 'Love your coffee blog articles!',\n            donorName: 'John Doe',\n            donorEmail: 'donor@test.com',\n            isRecurring: true,\n            date: new Date('2024-12-01').toISOString()\n          },\n          {\n            id: '2',\n            amount: 10,\n            message: 'Great work on the design systems article!',\n            donorName: 'Anonymous',\n            donorEmail: 'anonymous@example.com',\n            isRecurring: false,\n            date: new Date('2024-12-15').toISOString()\n          }\n        ];\n        localStorage.setItem('donations', JSON.stringify(testDonations));\n      }\n    }, []);\n\n    const addTestDonation = () => {\n      const testDonation = {\n        id: Date.now().toString(),\n        amount: Math.floor(Math.random() * 50) + 5,\n        message: 'Thank you for the great content!',\n        donorName: 'Anonymous',\n        donorEmail: 'anonymous@example.com',\n        isRecurring: Math.random() > 0.7,\n        date: new Date().toISOString()\n      };\n\n      const updatedDonations = [...donations, testDonation];\n      setDonations(updatedDonations);\n      localStorage.setItem('donations', JSON.stringify(updatedDonations));\n      \n      // Update stats\n      const total = updatedDonations.reduce((sum, donation) => sum + donation.amount, 0);\n      setStats({ total, count: updatedDonations.length });\n    };\n\n    return (\n      <div className=\"donation-manager\">\n        <h2>Manage Donations</h2>\n        \n        <div className=\"donation-stats\">\n          <div className=\"stat-card\">\n            <div className=\"stat-value\">${stats.total}</div>\n            <div className=\"stat-label\">Total Raised</div>\n          </div>\n          <div className=\"stat-card\">\n            <div className=\"stat-value\">{stats.count}</div>\n            <div className=\"stat-label\">Total Donations</div>\n          </div>\n        </div>\n\n        <div className=\"donation-actions\">\n          <button className=\"btn btn-primary\" onClick={addTestDonation}>\n            Add Test Donation\n          </button>\n        </div>\n\n        {donations.length === 0 ? (\n          <div className=\"empty-state\">\n            <h3>No donations yet</h3>\n            <p>Donations will appear here when supporters contribute.</p>\n          </div>\n        ) : (\n          <div className=\"donations-list\">\n            {donations.map((donation) => (\n              <div key={donation.id} className=\"donation-item\">\n                <div className=\"donation-info\">\n                  <div className=\"amount\">${donation.amount}</div>\n                  <div className=\"donor\">{donation.donorName} ({donation.donorEmail})</div>\n                  <div className=\"message\">\"{donation.message}\"</div>\n                  <div className=\"donation-meta\">\n                    <span className=\"date\">{new Date(donation.date).toLocaleDateString()}</span>\n                    {donation.isRecurring && (\n                      <span className=\"recurring-badge\">Recurring</span>\n                    )}\n                    {donation.stoppedAt && (\n                      <span className=\"stopped-badge\">Stopped</span>\n                    )}\n                  </div>\n                </div>\n              </div>\n            ))}\n          </div>\n        )}\n      </div>\n    );\n  };\n\n  const DonorSubscriptionManager: React.FC = () => {\n    const [donations, setDonations] = useState<any[]>([]);\n    const [isRecurring, setIsRecurring] = useState(false);\n\n    useEffect(() => {\n      // Load user's donations from localStorage\n      const userEmail = currentUser?.email;\n      const allDonations = JSON.parse(localStorage.getItem('donations') || '[]');\n      \n      // Filter donations for current user\n      const userDonations = allDonations.filter((donation: any) => \n        donation.donorEmail === userEmail\n      );\n      setDonations(userDonations);\n\n      // Check if user has recurring donations\n      const hasRecurring = userDonations.some((donation: any) => donation.isRecurring);\n      setIsRecurring(hasRecurring);\n    }, [currentUser?.email]);\n\n    const stopRecurringDonations = () => {\n      const userEmail = currentUser?.email;\n      const allDonations = JSON.parse(localStorage.getItem('donations') || '[]');\n      \n      // Update donations to stop recurring ones\n      const updatedDonations = allDonations.map((donation: any) => {\n        if (donation.donorEmail === userEmail && donation.isRecurring) {\n          return { ...donation, isRecurring: false, stoppedAt: new Date().toISOString() };\n        }\n        return donation;\n      });\n\n      localStorage.setItem('donations', JSON.stringify(updatedDonations));\n      \n      // Update local state\n      const userDonations = updatedDonations.filter((donation: any) => \n        donation.donorEmail === userEmail\n      );\n      setDonations(userDonations);\n      setIsRecurring(false);\n    };\n\n    const addTestDonation = () => {\n      const newDonation = {\n        id: Date.now().toString(),\n        amount: Math.floor(Math.random() * 50) + 5,\n        message: 'Thank you for the great content!',\n        donorName: currentUser?.username || 'Anonymous',\n        donorEmail: currentUser?.email,\n        isRecurring: Math.random() > 0.5,\n        date: new Date().toISOString()\n      };\n\n      const allDonations = JSON.parse(localStorage.getItem('donations') || '[]');\n      const updatedDonations = [...allDonations, newDonation];\n      localStorage.setItem('donations', JSON.stringify(updatedDonations));\n      \n      setDonations(prev => [...prev, newDonation]);\n      setIsRecurring(newDonation.isRecurring || isRecurring);\n    };\n\n    const totalDonated = donations.reduce((sum, donation) => sum + (donation.amount || 0), 0);\n\n    return (\n      <div className=\"donor-subscription-manager\">\n        <h2>My Donations</h2>\n        \n        <div className=\"donor-stats\">\n          <div className=\"stat-card\">\n            <div className=\"stat-value\">${totalDonated}</div>\n            <div className=\"stat-label\">Total Contributed</div>\n          </div>\n          <div className=\"stat-card\">\n            <div className=\"stat-value\">{donations.length}</div>\n            <div className=\"stat-label\">Total Donations</div>\n          </div>\n          <div className=\"stat-card\">\n            <div className=\"stat-value\">{isRecurring ? 'Active' : 'None'}</div>\n            <div className=\"stat-label\">Recurring Status</div>\n          </div>\n        </div>\n\n        <div className=\"donor-actions\">\n          <button className=\"btn btn-primary\" onClick={addTestDonation}>\n            Make Test Donation\n          </button>\n          {isRecurring && (\n            <button className=\"btn btn-danger\" onClick={stopRecurringDonations}>\n              Stop Recurring Donations\n            </button>\n          )}\n        </div>\n\n        {donations.length === 0 ? (\n          <div className=\"empty-state\">\n            <h3>No donations yet</h3>\n            <p>Your donation history will appear here.</p>\n          </div>\n        ) : (\n          <div className=\"donations-list\">\n            {donations.map((donation) => (\n              <div key={donation.id} className=\"donation-item\">\n                <div className=\"donation-info\">\n                  <div className=\"amount\">${donation.amount}</div>\n                  <div className=\"message\">\"{donation.message}\"</div>\n                  <div className=\"donation-meta\">\n                    <span className=\"date\">{new Date(donation.date).toLocaleDateString()}</span>\n                    {donation.isRecurring && (\n                      <span className=\"recurring-badge\">Recurring</span>\n                    )}\n                    {donation.stoppedAt && (\n                      <span className=\"stopped-badge\">Stopped {new Date(donation.stoppedAt).toLocaleDateString()}</span>\n                    )}\n                  </div>\n                </div>\n              </div>\n            ))}\n          </div>\n        )}\n      </div>\n    );\n  };\n\n  if (!isLoggedIn) {\n    return (\n      <div className={`dashboard ${isDarkMode ? 'dark-mode' : ''}`}>\n        <div className=\"container\">\n          <LoginForm />\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className={`dashboard ${isDarkMode ? 'dark-mode' : ''}`}>\n      <div className=\"container\">\n        <div className=\"dashboard-header\">\n          <h1>Dashboard</h1>\n          <div className=\"user-info\">\n            <span>Welcome, {currentUser?.username} ({currentUser?.email}) - {currentUser?.role}</span>\n            <button onClick={handleLogout} className=\"logout-btn\">Logout</button>\n          </div>\n        </div>\n\n        <div className=\"dashboard-tabs\">\n          <button \n            className={`tab-btn ${activeTab === 'saved' ? 'active' : ''}`}\n            onClick={() => setActiveTab('saved')}\n          >\n            📖 Saved Articles ({savedArticles.length})\n          </button>\n          <button \n            className={`tab-btn ${activeTab === 'notes' ? 'active' : ''}`}\n            onClick={() => setActiveTab('notes')}\n          >\n            📝 My Notes ({userNotes.length})\n          </button>\n          <button \n            className={`tab-btn ${activeTab === 'comments' ? 'active' : ''}`}\n            onClick={() => setActiveTab('comments')}\n          >\n            💬 My Comments ({userComments.length})\n          </button>\n          {(currentUser?.role === 'publisher' || currentUser?.role === 'admin') && (\n            <>\n              <button \n                className={`tab-btn ${activeTab === 'createArticle' ? 'active' : ''}`}\n                onClick={() => setActiveTab('createArticle')}\n              >\n                ✍️ Create Article\n              </button>\n              <button \n                className={`tab-btn ${activeTab === 'articles' ? 'active' : ''}`}\n                onClick={() => setActiveTab('articles')}\n              >\n                📚 Manage Articles\n              </button>\n            </>\n          )}\n          {currentUser?.role === 'donor' && (\n            <button \n              className={`tab-btn ${activeTab === 'manageDonorSubscriptions' ? 'active' : ''}`}\n              onClick={() => setActiveTab('manageDonorSubscriptions')}\n            >\n              💳 My Donations\n            </button>\n          )}\n          {currentUser?.role === 'admin' && (\n            <>\n              <button \n                className={`tab-btn ${activeTab === 'manageSubscriptions' ? 'active' : ''}`}\n                onClick={() => setActiveTab('manageSubscriptions')}\n              >\n                📧 Manage Subscriptions\n              </button>\n              <button \n                className={`tab-btn ${activeTab === 'manageDonations' ? 'active' : ''}`}\n                onClick={() => setActiveTab('manageDonations')}\n              >\n                ☕ Manage Donations\n              </button>\n            </>\n          )}\n        </div>\n\n        {activeTab === 'saved' && (\n          <div className=\"saved-articles-section\">\n            {savedArticles.length === 0 ? (\n              <div className=\"empty-state\">\n                <div className=\"empty-icon\">📚</div>\n                <h3>No saved articles yet</h3>\n                <p>Start saving articles you want to read later!</p>\n                <Link to=\"/blog\" className=\"btn btn-primary\">Browse Articles</Link>\n              </div>\n            ) : (\n              <div className=\"articles-grid\">\n                {savedArticles.map(article => {\n                  const note = getArticleNote(article.id);\n                  return (\n                    <div key={article.id} className=\"saved-article-card\">\n                      <div className=\"article-header\">\n                        <div className=\"category-badge\">{article.category}</div>\n                        <button \n                          className=\"remove-btn\"\n                          onClick={() => removeArticle(article.id)}\n                          title=\"Remove from saved\"\n                        >\n                          ×\n                        </button>\n                      </div>\n                      <h3 className=\"article-title\">\n                        <Link to={article.url}>{article.title}</Link>\n                      </h3>\n                      <p className=\"article-excerpt\">{article.excerpt}</p>\n                      <div className=\"article-footer\">\n                        <span className=\"saved-date\">\n                          Saved {new Date(article.savedAt).toLocaleDateString()}\n                        </span>\n                        <div className=\"article-actions\">\n                          {note ? (\n                            <button \n                              className=\"note-btn has-note\"\n                              onClick={() => openNoteEditor(article.id)}\n                            >\n                              📝 Edit Note\n                            </button>\n                          ) : (\n                            <button \n                              className=\"note-btn\"\n                              onClick={() => openNoteEditor(article.id)}\n                            >\n                              📝 Add Note\n                            </button>\n                          )}\n                          <Link to={article.url} className=\"read-btn\">\n                            Read Article →\n                          </Link>\n                        </div>\n                      </div>\n                    </div>\n                  );\n                })}\n              </div>\n            )}\n          </div>\n        )}\n\n        {activeTab === 'notes' && (\n          <div className=\"notes-section\">\n            {userNotes.length === 0 ? (\n              <div className=\"empty-state\">\n                <div className=\"empty-icon\">📝</div>\n                <h3>No notes yet</h3>\n                <p>Add private notes to your saved articles!</p>\n                <Link to=\"/blog\" className=\"btn btn-primary\">Browse Articles</Link>\n              </div>\n            ) : (\n              <div className=\"notes-grid\">\n                {userNotes.map(note => (\n                  <div key={note.id} className=\"note-card\">\n                    <div className=\"note-header\">\n                      <div className=\"note-article-info\">\n                        <Link to={`/blog/${note.articleId}`} className=\"note-article-title\">\n                          {note.articleTitle}\n                        </Link>\n                      </div>\n                      <button \n                        className=\"delete-note-btn\"\n                        onClick={() => deleteNote(note.id)}\n                        title=\"Delete note\"\n                      >\n                        🗑️\n                      </button>\n                    </div>\n                    <div className=\"note-content\">{note.content}</div>\n                    <div className=\"note-images\">\n                      {note.images && note.images.length > 0 && (\n                        <div className=\"images-grid\">\n                          {note.images.map((image, index) => (\n                            <div key={index} className=\"image-item\">\n                              <img src={image} alt={`Note image ${index + 1}`} className=\"note-image\" />\n                              <button \n                                className=\"remove-image-btn\"\n                                onClick={() => removeImage(index)}\n                                title=\"Remove image\"\n                              >\n                                ×\n                              </button>\n                            </div>\n                          ))}\n                        </div>\n                      )}\n                    </div>\n                    <div className=\"note-meta\">\n                      <span>Created: {new Date(note.createdAt).toLocaleDateString()}</span>\n                      {note.updatedAt !== note.createdAt && (\n                        <span>Updated: {new Date(note.updatedAt).toLocaleDateString()}</span>\n                      )}\n                    </div>\n                  </div>\n                ))}\n              </div>\n            )}\n          </div>\n        )}\n\n        {activeTab === 'comments' && (\n          <div className=\"comments-section\">\n            {userComments.length === 0 ? (\n              <div className=\"empty-state\">\n                <div className=\"empty-icon\">💬</div>\n                <h3>No comments yet</h3>\n                <p>Start commenting on articles!</p>\n                <Link to=\"/blog\" className=\"btn btn-primary\">Browse Articles</Link>\n              </div>\n            ) : (\n              <div className=\"comments-grid\">\n                {userComments.map((comment) => (\n                  <div key={comment.id} className=\"comment-card\">\n                    <h4>{comment.articleTitle}</h4>\n                    <div className=\"comment-content\">{comment.content}</div>\n                    <div className=\"comment-meta\">\n                      <span className=\"date\">{comment.date}</span>\n                      <span className=\"comment-type\">\n                        {comment.isAnonymous ? 'Anonymous' : `As ${comment.username}`}\n                      </span>\n                    </div>\n                  </div>\n                ))}\n              </div>\n            )}\n          </div>\n        )}\n\n        {/* Note Editor Modal */}\n        {selectedArticle && (\n          <div className=\"note-modal-overlay\" onClick={() => setSelectedArticle(null)}>\n            <div className=\"note-modal\" onClick={e => e.stopPropagation()}>\n              <div className=\"note-modal-header\">\n                <h3>Add/Edit Private Note</h3>\n                <button \n                  className=\"close-btn\"\n                  onClick={() => setSelectedArticle(null)}\n                >\n                  ×\n                </button>\n              </div>\n              <div className=\"note-modal-body\">\n                <div className=\"article-info\">\n                  {savedArticles.find(a => a.id === selectedArticle)?.title}\n                </div>\n                <textarea\n                  value={noteContent}\n                  onChange={(e) => setNoteContent(e.target.value)}\n                  placeholder=\"Write your private note here... (only you can see this)\"\n                  className=\"note-textarea\"\n                  rows={6}\n                />\n                \n                {/* Image Upload Section */}\n                <div className=\"note-images-section\">\n                  <div className=\"image-upload-area\">\n                    <label htmlFor=\"note-image-upload\" className=\"image-upload-btn\">\n                      📷 Add Images\n                    </label>\n                    <input\n                      id=\"note-image-upload\"\n                      type=\"file\"\n                      accept=\"image/*\"\n                      multiple\n                      onChange={handleImageUpload}\n                      style={{ display: 'none' }}\n                    />\n                  </div>\n                  \n                  {noteImages.length > 0 && (\n                    <div className=\"uploaded-images\">\n                      {noteImages.map((image, index) => (\n                        <div key={index} className=\"image-preview\">\n                          <img src={image} alt={`Note image ${index + 1}`} />\n                          <button\n                            className=\"remove-image-btn\"\n                            onClick={() => removeImage(index)}\n                          >\n                            ×\n                          </button>\n                        </div>\n                      ))}\n                    </div>\n                  )}\n                </div>\n              </div>\n              <div className=\"note-modal-footer\">\n                <button \n                  className=\"btn btn-secondary\"\n                  onClick={() => setSelectedArticle(null)}\n                >\n                  Cancel\n                </button>\n                <button \n                  className=\"btn btn-primary\"\n                  onClick={() => saveNote(selectedArticle)}\n                >\n                  Save Note\n                </button>\n              </div>\n            </div>\n          </div>\n        )}\n\n        {activeTab === 'createArticle' && (currentUser?.role === 'publisher' || currentUser?.role === 'admin') && (\n          <div className=\"create-article-section\">\n            <ArticleEditor\n              onSave={handleSaveArticle}\n              onCancel={() => setActiveTab('saved')}\n            />\n          </div>\n        )}\n\n        {activeTab === 'articles' && (currentUser?.role === 'publisher' || currentUser?.role === 'admin') && (\n          <div className=\"manage-articles-section\">\n            <ArticleManager\n              onClose={() => setActiveTab('saved')}\n            />\n          </div>\n        )}\n\n        {activeTab === 'manageDonorSubscriptions' && currentUser?.role === 'donor' && (\n          <div className=\"manage-donor-subscriptions-section\">\n            <DonorSubscriptionManager />\n          </div>\n        )}\n\n        {activeTab === 'manageSubscriptions' && currentUser?.role === 'admin' && (\n          <div className=\"manage-subscriptions-section\">\n            <SubscriptionManager />\n          </div>\n        )}\n\n        {activeTab === 'manageDonations' && currentUser?.role === 'admin' && (\n          <div className=\"manage-donations-section\">\n            <DonationManager />\n          </div>\n        )}\n\n        {activeTab === 'manageDonorSubscriptions' && currentUser?.role === 'donor' && (\n          <div className=\"manage-donor-subscriptions-section\">\n            <DonorSubscriptionManager />\n          </div>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default Dashboard;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}