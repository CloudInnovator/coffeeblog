{"ast":null,"code":"var _jsxFileName = \"/home/brave/Documents/weekendproject/coffeeblog/src/components/SaveArticleButton.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport './SaveArticleButton.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst SaveArticleButton = ({\n  articleId,\n  title,\n  excerpt,\n  category,\n  url\n}) => {\n  _s();\n  const [isSaved, setIsSaved] = useState(false);\n  useEffect(() => {\n    // Check if article is already saved\n    const savedArticles = JSON.parse(localStorage.getItem('savedArticles') || '[]');\n    const isArticleSaved = savedArticles.some(article => article.id === articleId);\n    setIsSaved(isArticleSaved);\n  }, [articleId]);\n  const handleSaveToggle = () => {\n    const savedArticles = JSON.parse(localStorage.getItem('savedArticles') || '[]');\n    if (isSaved) {\n      // Remove from saved articles\n      const updatedArticles = savedArticles.filter(article => article.id !== articleId);\n      localStorage.setItem('savedArticles', JSON.stringify(updatedArticles));\n\n      // Also remove associated notes\n      const userNotes = JSON.parse(localStorage.getItem('userNotes') || '[]');\n      const updatedNotes = userNotes.filter(note => note.articleId !== articleId);\n      localStorage.setItem('userNotes', JSON.stringify(updatedNotes));\n      setIsSaved(false);\n    } else {\n      // Add to saved articles\n      const newArticle = {\n        id: articleId,\n        title,\n        excerpt,\n        category,\n        url,\n        savedAt: new Date().toISOString()\n      };\n      const updatedArticles = [...savedArticles, newArticle];\n      localStorage.setItem('savedArticles', JSON.stringify(updatedArticles));\n      setIsSaved(true);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"button\", {\n    className: `save-article-btn ${isSaved ? 'saved' : ''}`,\n    onClick: handleSaveToggle,\n    title: isSaved ? 'Remove from saved' : 'Save article',\n    children: isSaved ? 'ðŸ’¾ Saved' : 'ðŸ”– Save'\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 59,\n    columnNumber: 5\n  }, this);\n};\n_s(SaveArticleButton, \"QjltAWMLEzfzGU+VAtdsFLW7Ja4=\");\n_c = SaveArticleButton;\nexport default SaveArticleButton;\nvar _c;\n$RefreshReg$(_c, \"SaveArticleButton\");","map":{"version":3,"names":["React","useState","useEffect","jsxDEV","_jsxDEV","SaveArticleButton","articleId","title","excerpt","category","url","_s","isSaved","setIsSaved","savedArticles","JSON","parse","localStorage","getItem","isArticleSaved","some","article","id","handleSaveToggle","updatedArticles","filter","setItem","stringify","userNotes","updatedNotes","note","newArticle","savedAt","Date","toISOString","className","onClick","children","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/home/brave/Documents/weekendproject/coffeeblog/src/components/SaveArticleButton.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport './SaveArticleButton.css';\n\ninterface SaveArticleButtonProps {\n  articleId: string;\n  title: string;\n  excerpt: string;\n  category: string;\n  url: string;\n}\n\nconst SaveArticleButton: React.FC<SaveArticleButtonProps> = ({\n  articleId,\n  title,\n  excerpt,\n  category,\n  url\n}) => {\n  const [isSaved, setIsSaved] = useState(false);\n\n  useEffect(() => {\n    // Check if article is already saved\n    const savedArticles = JSON.parse(localStorage.getItem('savedArticles') || '[]');\n    const isArticleSaved = savedArticles.some((article: any) => article.id === articleId);\n    setIsSaved(isArticleSaved);\n  }, [articleId]);\n\n  const handleSaveToggle = () => {\n    const savedArticles = JSON.parse(localStorage.getItem('savedArticles') || '[]');\n\n    if (isSaved) {\n      // Remove from saved articles\n      const updatedArticles = savedArticles.filter((article: any) => article.id !== articleId);\n      localStorage.setItem('savedArticles', JSON.stringify(updatedArticles));\n      \n      // Also remove associated notes\n      const userNotes = JSON.parse(localStorage.getItem('userNotes') || '[]');\n      const updatedNotes = userNotes.filter((note: any) => note.articleId !== articleId);\n      localStorage.setItem('userNotes', JSON.stringify(updatedNotes));\n      \n      setIsSaved(false);\n    } else {\n      // Add to saved articles\n      const newArticle = {\n        id: articleId,\n        title,\n        excerpt,\n        category,\n        url,\n        savedAt: new Date().toISOString()\n      };\n      const updatedArticles = [...savedArticles, newArticle];\n      localStorage.setItem('savedArticles', JSON.stringify(updatedArticles));\n      setIsSaved(true);\n    }\n  };\n\n  return (\n    <button\n      className={`save-article-btn ${isSaved ? 'saved' : ''}`}\n      onClick={handleSaveToggle}\n      title={isSaved ? 'Remove from saved' : 'Save article'}\n    >\n      {isSaved ? 'ðŸ’¾ Saved' : 'ðŸ”– Save'}\n    </button>\n  );\n};\n\nexport default SaveArticleButton;\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAClD,OAAO,yBAAyB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAUjC,MAAMC,iBAAmD,GAAGA,CAAC;EAC3DC,SAAS;EACTC,KAAK;EACLC,OAAO;EACPC,QAAQ;EACRC;AACF,CAAC,KAAK;EAAAC,EAAA;EACJ,MAAM,CAACC,OAAO,EAAEC,UAAU,CAAC,GAAGZ,QAAQ,CAAC,KAAK,CAAC;EAE7CC,SAAS,CAAC,MAAM;IACd;IACA,MAAMY,aAAa,GAAGC,IAAI,CAACC,KAAK,CAACC,YAAY,CAACC,OAAO,CAAC,eAAe,CAAC,IAAI,IAAI,CAAC;IAC/E,MAAMC,cAAc,GAAGL,aAAa,CAACM,IAAI,CAAEC,OAAY,IAAKA,OAAO,CAACC,EAAE,KAAKhB,SAAS,CAAC;IACrFO,UAAU,CAACM,cAAc,CAAC;EAC5B,CAAC,EAAE,CAACb,SAAS,CAAC,CAAC;EAEf,MAAMiB,gBAAgB,GAAGA,CAAA,KAAM;IAC7B,MAAMT,aAAa,GAAGC,IAAI,CAACC,KAAK,CAACC,YAAY,CAACC,OAAO,CAAC,eAAe,CAAC,IAAI,IAAI,CAAC;IAE/E,IAAIN,OAAO,EAAE;MACX;MACA,MAAMY,eAAe,GAAGV,aAAa,CAACW,MAAM,CAAEJ,OAAY,IAAKA,OAAO,CAACC,EAAE,KAAKhB,SAAS,CAAC;MACxFW,YAAY,CAACS,OAAO,CAAC,eAAe,EAAEX,IAAI,CAACY,SAAS,CAACH,eAAe,CAAC,CAAC;;MAEtE;MACA,MAAMI,SAAS,GAAGb,IAAI,CAACC,KAAK,CAACC,YAAY,CAACC,OAAO,CAAC,WAAW,CAAC,IAAI,IAAI,CAAC;MACvE,MAAMW,YAAY,GAAGD,SAAS,CAACH,MAAM,CAAEK,IAAS,IAAKA,IAAI,CAACxB,SAAS,KAAKA,SAAS,CAAC;MAClFW,YAAY,CAACS,OAAO,CAAC,WAAW,EAAEX,IAAI,CAACY,SAAS,CAACE,YAAY,CAAC,CAAC;MAE/DhB,UAAU,CAAC,KAAK,CAAC;IACnB,CAAC,MAAM;MACL;MACA,MAAMkB,UAAU,GAAG;QACjBT,EAAE,EAAEhB,SAAS;QACbC,KAAK;QACLC,OAAO;QACPC,QAAQ;QACRC,GAAG;QACHsB,OAAO,EAAE,IAAIC,IAAI,CAAC,CAAC,CAACC,WAAW,CAAC;MAClC,CAAC;MACD,MAAMV,eAAe,GAAG,CAAC,GAAGV,aAAa,EAAEiB,UAAU,CAAC;MACtDd,YAAY,CAACS,OAAO,CAAC,eAAe,EAAEX,IAAI,CAACY,SAAS,CAACH,eAAe,CAAC,CAAC;MACtEX,UAAU,CAAC,IAAI,CAAC;IAClB;EACF,CAAC;EAED,oBACET,OAAA;IACE+B,SAAS,EAAE,oBAAoBvB,OAAO,GAAG,OAAO,GAAG,EAAE,EAAG;IACxDwB,OAAO,EAAEb,gBAAiB;IAC1BhB,KAAK,EAAEK,OAAO,GAAG,mBAAmB,GAAG,cAAe;IAAAyB,QAAA,EAErDzB,OAAO,GAAG,UAAU,GAAG;EAAS;IAAA0B,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAC3B,CAAC;AAEb,CAAC;AAAC9B,EAAA,CAvDIN,iBAAmD;AAAAqC,EAAA,GAAnDrC,iBAAmD;AAyDzD,eAAeA,iBAAiB;AAAC,IAAAqC,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}