{"ast":null,"code":"import _objectSpread from\"/home/brave/Documents/weekendproject/coffeeblog/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useRef,useEffect}from'react';import'./ArticleEditor.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const ArticleEditor=_ref=>{let{onSave,onCancel,initialData}=_ref;const[article,setArticle]=useState({id:(initialData===null||initialData===void 0?void 0:initialData.id)||Date.now().toString(),title:(initialData===null||initialData===void 0?void 0:initialData.title)||'',content:(initialData===null||initialData===void 0?void 0:initialData.content)||'',excerpt:(initialData===null||initialData===void 0?void 0:initialData.excerpt)||'',category:(initialData===null||initialData===void 0?void 0:initialData.category)||'Engineering',author:(initialData===null||initialData===void 0?void 0:initialData.author)||'Guest Author',image:(initialData===null||initialData===void 0?void 0:initialData.image)||'✍️',imageUrl:(initialData===null||initialData===void 0?void 0:initialData.imageUrl)||'',readTime:(initialData===null||initialData===void 0?void 0:initialData.readTime)||'5 min read',date:(initialData===null||initialData===void 0?void 0:initialData.date)||new Date().toISOString(),published:(initialData===null||initialData===void 0?void 0:initialData.published)||false,saved:(initialData===null||initialData===void 0?void 0:initialData.saved)||false});const[isPreview,setIsPreview]=useState(false);const[showImageInserter,setShowImageInserter]=useState(false);const[showFormatHelp,setShowFormatHelp]=useState(false);const[activeFormat,setActiveFormat]=useState('');const[isDragging,setIsDragging]=useState(false);const[autoSave,setAutoSave]=useState(false);const textareaRef=useRef(null);const contentImageInputRef=useRef(null);const categories=['Engineering','Design','Systems','Architecture','Performance','AI/ML','UI/UX','Trends'];// Form validation\nconst isFormValid=article.title.trim()&&article.content.trim()&&article.excerpt.trim();// Auto-save functionality\nuseEffect(()=>{if(autoSave&&isFormValid){const timer=setTimeout(()=>{console.log('Auto-saving article...',article.title);localStorage.setItem('draft-article',JSON.stringify(article));},3000);return()=>clearTimeout(timer);}},[article,autoSave,isFormValid]);// Keyboard shortcuts\nuseEffect(()=>{const handleKeyDown=e=>{if(e.ctrlKey||e.metaKey){if(e.key==='b'){e.preventDefault();insertFormatting('bold');}else if(e.key==='i'){e.preventDefault();insertFormatting('italic');}else if(e.key==='s'){e.preventDefault();if(isFormValid){handleSave();}}}};document.addEventListener('keydown',handleKeyDown);return()=>document.removeEventListener('keydown',handleKeyDown);},[isFormValid]);const handleInputChange=(field,value)=>{setArticle(prev=>_objectSpread(_objectSpread({},prev),{},{[field]:value}));};const handleImageUpload=e=>{var _e$target$files;const file=(_e$target$files=e.target.files)===null||_e$target$files===void 0?void 0:_e$target$files[0];if(file){const reader=new FileReader();reader.onload=e=>{var _e$target;const result=(_e$target=e.target)===null||_e$target===void 0?void 0:_e$target.result;setArticle(prev=>_objectSpread(_objectSpread({},prev),{},{imageUrl:result}));};reader.readAsDataURL(file);}};const calculateReadTime=content=>{const wordsPerMinute=200;const words=content.trim().split(/\\s+/).filter(word=>word.length>0).length;const minutes=Math.ceil(words/wordsPerMinute);return\"\".concat(minutes,\" min read\");};const handleContentChange=content=>{const readTime=calculateReadTime(content);setArticle(prev=>_objectSpread(_objectSpread({},prev),{},{content,readTime}));};// Get current selection in textarea\nconst getCurrentSelection=()=>{if(textareaRef.current){const start=textareaRef.current.selectionStart;const end=textareaRef.current.selectionEnd;const selected=article.content.substring(start,end);return{start,end,selected};}return{start:0,end:0,selected:''};};// Insert formatting around selected text or at cursor\nconst insertFormatting=format=>{if(!textareaRef.current)return;const{start,end,selected}=getCurrentSelection();const beforeText=article.content.substring(0,start);const afterText=article.content.substring(end);let newText='';let cursorOffset=0;// Show active format temporarily\nsetActiveFormat(format);setTimeout(()=>setActiveFormat(''),300);switch(format){case'bold':newText=selected?\"**\".concat(selected,\"**\"):'**Bold Text**';cursorOffset=selected?0:2;break;case'italic':newText=selected?\"*\".concat(selected,\"*\"):'*Italic Text*';cursorOffset=selected?0:1;break;case'heading':const headingPrefix=beforeText&&!beforeText.endsWith('\\n')?'\\n':'';const headingSuffix=afterText&&!afterText.startsWith('\\n')?'\\n':'';newText=\"\".concat(headingPrefix,\"## \").concat(selected||'Heading').concat(headingSuffix);cursorOffset=selected?0:3;break;case'quote':const quotePrefix=beforeText&&!beforeText.endsWith('\\n')?'\\n':'';const quoteSuffix=afterText&&!afterText.startsWith('\\n')?'\\n':'';newText=\"\".concat(quotePrefix,\"> \").concat(selected||'Quote text').concat(quoteSuffix);cursorOffset=selected?0:2;break;case'list':const listPrefix=beforeText&&!beforeText.endsWith('\\n')?'\\n':'';const listSuffix=afterText&&!afterText.startsWith('\\n')?'\\n':'';newText=\"\".concat(listPrefix,\"- \").concat(selected||'List item').concat(listSuffix);cursorOffset=selected?0:2;break;case'center':newText=selected?\"<div style=\\\"text-align: center\\\">\".concat(selected,\"</div>\"):'<div style=\"text-align: center\">Centered text</div>';cursorOffset=selected?0:30;break;case'justify':newText=selected?\"<div style=\\\"text-align: justify\\\">\".concat(selected,\"</div>\"):'<div style=\"text-align: justify\">Justified text</div>';cursorOffset=selected?0:31;break;default:return;}const newContent=beforeText+newText+afterText;const readTime=calculateReadTime(newContent);setArticle(prev=>_objectSpread(_objectSpread({},prev),{},{content:newContent,readTime}));// Reset cursor position\nsetTimeout(()=>{var _textareaRef$current,_textareaRef$current2;(_textareaRef$current=textareaRef.current)===null||_textareaRef$current===void 0?void 0:_textareaRef$current.focus();const newPosition=selected?start+newText.length:start+newText.length-cursorOffset;(_textareaRef$current2=textareaRef.current)===null||_textareaRef$current2===void 0?void 0:_textareaRef$current2.setSelectionRange(newPosition,newPosition);},0);};// Drag and drop functionality\nconst handleDragOver=e=>{e.preventDefault();setIsDragging(true);};const handleDragLeave=e=>{e.preventDefault();setIsDragging(false);};const handleDrop=e=>{e.preventDefault();setIsDragging(false);const files=Array.from(e.dataTransfer.files);const imageFile=files.find(file=>file.type.startsWith('image/'));if(imageFile){const reader=new FileReader();reader.onload=e=>{var _e$target2;const result=(_e$target2=e.target)===null||_e$target2===void 0?void 0:_e$target2.result;insertImageIntoContent(result);};reader.readAsDataURL(imageFile);}};const handleContentImageUpload=e=>{var _e$target$files2;const file=(_e$target$files2=e.target.files)===null||_e$target$files2===void 0?void 0:_e$target$files2[0];if(file){const reader=new FileReader();reader.onload=e=>{var _e$target3;const result=(_e$target3=e.target)===null||_e$target3===void 0?void 0:_e$target3.result;insertImageIntoContent(result);setShowImageInserter(false);};reader.readAsDataURL(file);}};const insertImageIntoContent=imageUrl=>{if(!textareaRef.current)return;const{start}=getCurrentSelection();const beforeText=article.content.substring(0,start);const afterText=article.content.substring(start);const imageMarkdown=\"\\n![Image](\".concat(imageUrl,\")\\n\");const newContent=beforeText+imageMarkdown+afterText;handleContentChange(newContent);setTimeout(()=>{var _textareaRef$current3,_textareaRef$current4;(_textareaRef$current3=textareaRef.current)===null||_textareaRef$current3===void 0?void 0:_textareaRef$current3.focus();(_textareaRef$current4=textareaRef.current)===null||_textareaRef$current4===void 0?void 0:_textareaRef$current4.setSelectionRange(start+imageMarkdown.length,start+imageMarkdown.length);},0);};const handleSave=()=>{if(isFormValid){localStorage.removeItem('draft-article');onSave(article);}};const toggleAutoSave=()=>{setAutoSave(!autoSave);};const renderPreview=content=>{return content.split('\\n').map((paragraph,index)=>{// Handle images\nif(paragraph.includes('![Image](')){const imageMatch=paragraph.match(/!\\[Image\\]\\((.*?)\\)/);if(imageMatch){return/*#__PURE__*/_jsx(\"div\",{className:\"content-image-container\",children:/*#__PURE__*/_jsx(\"img\",{src:imageMatch[1],alt:\"Article content\",className:\"content-image\"})},index);}}// Handle headings\nif(paragraph.startsWith('## ')){return/*#__PURE__*/_jsx(\"h3\",{className:\"content-heading\",children:paragraph.substring(3)},index);}// Handle quotes\nif(paragraph.startsWith('> ')){return/*#__PURE__*/_jsx(\"blockquote\",{className:\"content-quote\",children:paragraph.substring(2)},index);}// Handle lists\nif(paragraph.startsWith('- ')){return/*#__PURE__*/_jsx(\"li\",{className:\"content-list-item\",children:paragraph.substring(2)},index);}// Handle HTML formatted content (center, justify)\nif(paragraph.includes('<div style=')){return/*#__PURE__*/_jsx(\"div\",{dangerouslySetInnerHTML:{__html:paragraph}},index);}// Handle bold and italic\nlet formattedParagraph=paragraph.replace(/\\*\\*(.*?)\\*\\*/g,'<strong>$1</strong>').replace(/\\*(.*?)\\*/g,'<em>$1</em>');if(formattedParagraph.trim()){return/*#__PURE__*/_jsx(\"p\",{dangerouslySetInnerHTML:{__html:formattedParagraph}},index);}return null;});};return/*#__PURE__*/_jsxs(\"div\",{className:\"article-editor\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"editor-header\",children:[/*#__PURE__*/_jsxs(\"h2\",{children:[\"\\u270D\\uFE0F \",initialData?'Edit Article':'Create New Article']}),/*#__PURE__*/_jsxs(\"div\",{className:\"editor-actions\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"auto-save-btn \".concat(autoSave?'active':''),onClick:toggleAutoSave,title:\"Toggle auto-save (saves to localStorage)\",children:autoSave?'💾 Auto-save ON':'💾 Auto-save OFF'}),/*#__PURE__*/_jsx(\"button\",{className:\"preview-btn \".concat(isPreview?'active':''),onClick:()=>setIsPreview(!isPreview),children:isPreview?'📝 Edit':'👁️ Preview'}),/*#__PURE__*/_jsx(\"button\",{className:\"cancel-btn\",onClick:onCancel,children:\"\\u274C Cancel\"}),/*#__PURE__*/_jsx(\"button\",{className:\"save-btn\",onClick:handleSave,disabled:!isFormValid,title:!isFormValid?'Please fill in title, excerpt, and content':'Save article',children:\"\\uD83D\\uDCBE Save Article\"})]})]}),!isPreview?/*#__PURE__*/_jsxs(\"div\",{className:\"editor-form\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"form-row\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"title\",children:\"\\uD83D\\uDCDD Title\"}),/*#__PURE__*/_jsx(\"input\",{id:\"title\",type:\"text\",value:article.title,onChange:e=>handleInputChange('title',e.target.value),placeholder:\"Enter an engaging article title...\",className:\"title-input\"})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"form-row\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"excerpt\",children:\"\\uD83D\\uDCC4 Excerpt\"}),/*#__PURE__*/_jsx(\"textarea\",{id:\"excerpt\",value:article.excerpt,onChange:e=>handleInputChange('excerpt',e.target.value),placeholder:\"Brief description that will appear in the blog card...\",className:\"excerpt-input\",rows:3})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-row\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"category\",children:\"\\uD83C\\uDFF7\\uFE0F Category\"}),/*#__PURE__*/_jsx(\"select\",{id:\"category\",value:article.category,onChange:e=>handleInputChange('category',e.target.value),className:\"category-select\",children:categories.map(cat=>/*#__PURE__*/_jsx(\"option\",{value:cat,children:cat},cat))})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"author\",children:\"\\uD83D\\uDC64 Author\"}),/*#__PURE__*/_jsx(\"input\",{id:\"author\",type:\"text\",value:article.author,onChange:e=>handleInputChange('author',e.target.value),placeholder:\"Author name...\",className:\"author-input\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-row\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"emoji\",children:\"\\uD83C\\uDFA8 Emoji (if no image)\"}),/*#__PURE__*/_jsx(\"input\",{id:\"emoji\",type:\"text\",value:article.image,onChange:e=>handleInputChange('image',e.target.value),placeholder:\"\\uD83D\\uDCDD\",className:\"emoji-input\",maxLength:2})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"image\",children:\"\\uD83D\\uDDBC\\uFE0F Upload Cover Image\"}),/*#__PURE__*/_jsx(\"input\",{id:\"image\",type:\"file\",accept:\"image/*\",onChange:handleImageUpload,className:\"image-input\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"content\",children:\"\\uD83D\\uDCD6 Article Content\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"content-section\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"content-toolbar\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"toolbar-group\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:()=>insertFormatting('bold'),className:\"format-btn \".concat(activeFormat==='bold'?'active':''),title:\"Bold (Ctrl+B)\",children:/*#__PURE__*/_jsx(\"strong\",{children:\"B\"})}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:()=>insertFormatting('italic'),className:\"format-btn \".concat(activeFormat==='italic'?'active':''),title:\"Italic (Ctrl+I)\",children:/*#__PURE__*/_jsx(\"em\",{children:\"I\"})}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:()=>insertFormatting('heading'),className:\"format-btn \".concat(activeFormat==='heading'?'active':''),title:\"Heading\",children:/*#__PURE__*/_jsx(\"span\",{className:\"heading-icon\",children:\"H\"})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"toolbar-separator\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"toolbar-group\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:()=>insertFormatting('center'),className:\"format-btn \".concat(activeFormat==='center'?'active':''),title:\"Center Align\",children:/*#__PURE__*/_jsx(\"span\",{className:\"align-icon\",children:\"\\u229E\"})}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:()=>insertFormatting('justify'),className:\"format-btn \".concat(activeFormat==='justify'?'active':''),title:\"Justify\",children:/*#__PURE__*/_jsx(\"span\",{className:\"align-icon\",children:\"\\u2261\"})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"toolbar-separator\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"toolbar-group\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:()=>insertFormatting('quote'),className:\"format-btn \".concat(activeFormat==='quote'?'active':''),title:\"Quote\",children:/*#__PURE__*/_jsx(\"span\",{className:\"quote-icon\",children:\"\\\"\"})}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:()=>insertFormatting('list'),className:\"format-btn \".concat(activeFormat==='list'?'active':''),title:\"List\",children:/*#__PURE__*/_jsx(\"span\",{className:\"list-icon\",children:\"\\u2022\"})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"toolbar-separator\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"toolbar-group\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:()=>setShowImageInserter(!showImageInserter),className:\"format-btn image-btn \".concat(showImageInserter?'active':''),title:\"Insert Image\",children:\"\\uD83D\\uDDBC\\uFE0F\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:()=>setShowFormatHelp(!showFormatHelp),className:\"format-btn help-btn \".concat(showFormatHelp?'active':''),title:\"Formatting Help\",children:\"\\u2753\"})]})]}),showFormatHelp&&/*#__PURE__*/_jsxs(\"div\",{className:\"format-help\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"\\uD83D\\uDCDD Formatting Guide\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"help-grid\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"help-item\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Bold:\"}),\" **text** or select text and click B\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"help-item\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Italic:\"}),\" *text* or select text and click I\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"help-item\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Heading:\"}),\" ## text or select text and click H\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"help-item\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Quote:\"}),\" \",'>',\"  text or select text and click \\\"\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"help-item\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"List:\"}),\" - text or select text and click \\u2022\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"help-item\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Center:\"}),\" Wraps text in center div\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"help-item\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Justify:\"}),\" Wraps text in justify div\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"help-item\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Images:\"}),\" Drag & drop or click \\uD83D\\uDDBC\\uFE0F to insert\"]})]})]}),showImageInserter&&/*#__PURE__*/_jsxs(\"div\",{className:\"image-inserter\",children:[/*#__PURE__*/_jsx(\"input\",{ref:contentImageInputRef,type:\"file\",accept:\"image/*\",onChange:handleContentImageUpload,className:\"content-image-input\"}),/*#__PURE__*/_jsx(\"span\",{className:\"image-inserter-text\",children:\"\\uD83D\\uDCF8 Select an image to insert into the article at cursor position\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"content-input-container \".concat(isDragging?'dragging':''),onDragOver:handleDragOver,onDragLeave:handleDragLeave,onDrop:handleDrop,children:[/*#__PURE__*/_jsx(\"textarea\",{ref:textareaRef,id:\"content\",value:article.content,onChange:e=>handleContentChange(e.target.value),placeholder:\"Write your article content here using markdown...\",className:\"content-input\",rows:15}),isDragging&&/*#__PURE__*/_jsx(\"div\",{className:\"drag-overlay\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"drag-message\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"drag-icon\",children:\"\\uD83D\\uDCC1\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Drop images here to insert them\"})]})})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"content-meta\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"read-time\",children:[\"\\uD83D\\uDCD6 \",article.readTime]}),/*#__PURE__*/_jsxs(\"span\",{className:\"word-count\",children:[\"\\uD83D\\uDCDD \",article.content.trim().split(/\\s+/).filter(w=>w.length>0).length,\" words\"]}),/*#__PURE__*/_jsxs(\"span\",{className:\"char-count\",children:[\"\\uD83D\\uDD24 \",article.content.length,\" characters\"]}),autoSave&&isFormValid&&/*#__PURE__*/_jsx(\"span\",{className:\"auto-save-status\",children:\"\\uD83D\\uDCBE Auto-saving...\"})]})]})]}):/*#__PURE__*/_jsxs(\"div\",{className:\"article-preview\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"preview-card\",children:[article.imageUrl?/*#__PURE__*/_jsx(\"div\",{className:\"preview-image\",style:{backgroundImage:\"url(\".concat(article.imageUrl,\")\")}}):/*#__PURE__*/_jsx(\"div\",{className:\"preview-default-image\",children:/*#__PURE__*/_jsx(\"span\",{className:\"preview-emoji\",children:article.image})}),/*#__PURE__*/_jsxs(\"div\",{className:\"preview-content\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"preview-title\",children:article.title||'Article Title'}),/*#__PURE__*/_jsx(\"p\",{className:\"preview-excerpt\",children:article.excerpt||'Article excerpt will appear here...'}),/*#__PURE__*/_jsx(\"div\",{className:\"preview-category\",children:/*#__PURE__*/_jsx(\"span\",{className:\"category-badge\",children:article.category})}),/*#__PURE__*/_jsxs(\"div\",{className:\"preview-meta\",children:[/*#__PURE__*/_jsx(\"span\",{children:new Date().toLocaleDateString()}),/*#__PURE__*/_jsx(\"span\",{children:article.readTime}),/*#__PURE__*/_jsxs(\"span\",{children:[\"By \",article.author]})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"preview-full-content\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Full Article Content\"}),/*#__PURE__*/_jsx(\"div\",{className:\"preview-article-content\",children:renderPreview(article.content)})]})]})]});};export default ArticleEditor;","map":{"version":3,"names":["React","useState","useRef","useEffect","jsx","_jsx","jsxs","_jsxs","ArticleEditor","_ref","onSave","onCancel","initialData","article","setArticle","id","Date","now","toString","title","content","excerpt","category","author","image","imageUrl","readTime","date","toISOString","published","saved","isPreview","setIsPreview","showImageInserter","setShowImageInserter","showFormatHelp","setShowFormatHelp","activeFormat","setActiveFormat","isDragging","setIsDragging","autoSave","setAutoSave","textareaRef","contentImageInputRef","categories","isFormValid","trim","timer","setTimeout","console","log","localStorage","setItem","JSON","stringify","clearTimeout","handleKeyDown","e","ctrlKey","metaKey","key","preventDefault","insertFormatting","handleSave","document","addEventListener","removeEventListener","handleInputChange","field","value","prev","_objectSpread","handleImageUpload","_e$target$files","file","target","files","reader","FileReader","onload","_e$target","result","readAsDataURL","calculateReadTime","wordsPerMinute","words","split","filter","word","length","minutes","Math","ceil","concat","handleContentChange","getCurrentSelection","current","start","selectionStart","end","selectionEnd","selected","substring","format","beforeText","afterText","newText","cursorOffset","headingPrefix","endsWith","headingSuffix","startsWith","quotePrefix","quoteSuffix","listPrefix","listSuffix","newContent","_textareaRef$current","_textareaRef$current2","focus","newPosition","setSelectionRange","handleDragOver","handleDragLeave","handleDrop","Array","from","dataTransfer","imageFile","find","type","_e$target2","insertImageIntoContent","handleContentImageUpload","_e$target$files2","_e$target3","imageMarkdown","_textareaRef$current3","_textareaRef$current4","removeItem","toggleAutoSave","renderPreview","map","paragraph","index","includes","imageMatch","match","className","children","src","alt","dangerouslySetInnerHTML","__html","formattedParagraph","replace","onClick","disabled","htmlFor","onChange","placeholder","rows","cat","maxLength","accept","ref","onDragOver","onDragLeave","onDrop","w","style","backgroundImage","toLocaleDateString"],"sources":["/home/brave/Documents/weekendproject/coffeeblog/src/components/ArticleEditor.tsx"],"sourcesContent":["import React, { useState, useRef, useEffect } from 'react';\nimport './ArticleEditor.css';\n\nexport interface ArticleData {\n  id: string;\n  title: string;\n  content: string;\n  excerpt: string;\n  category: string;\n  author: string;\n  image: string;\n  imageUrl?: string;\n  readTime: string;\n  date: string;\n  published: boolean;\n  saved: boolean;\n}\n\ninterface ArticleEditorProps {\n  onSave: (article: ArticleData) => void;\n  onCancel: () => void;\n  initialData?: Partial<ArticleData>;\n}\n\nconst ArticleEditor: React.FC<ArticleEditorProps> = ({ onSave, onCancel, initialData }) => {\n  const [article, setArticle] = useState<ArticleData>({\n    id: initialData?.id || Date.now().toString(),\n    title: initialData?.title || '',\n    content: initialData?.content || '',\n    excerpt: initialData?.excerpt || '',\n    category: initialData?.category || 'Engineering',\n    author: initialData?.author || 'Guest Author',\n    image: initialData?.image || '✍️',\n    imageUrl: initialData?.imageUrl || '',\n    readTime: initialData?.readTime || '5 min read',\n    date: initialData?.date || new Date().toISOString(),\n    published: initialData?.published || false,\n    saved: initialData?.saved || false\n  });\n\n  const [isPreview, setIsPreview] = useState(false);\n  const [showImageInserter, setShowImageInserter] = useState(false);\n  const [showFormatHelp, setShowFormatHelp] = useState(false);\n  const [activeFormat, setActiveFormat] = useState<string>('');\n  const [isDragging, setIsDragging] = useState(false);\n  const [autoSave, setAutoSave] = useState(false);\n  \n  const textareaRef = useRef<HTMLTextAreaElement>(null);\n  const contentImageInputRef = useRef<HTMLInputElement>(null);\n\n  const categories = [\n    'Engineering',\n    'Design',\n    'Systems',\n    'Architecture',\n    'Performance',\n    'AI/ML',\n    'UI/UX',\n    'Trends'\n  ];\n\n  // Form validation\n  const isFormValid = article.title.trim() && article.content.trim() && article.excerpt.trim();\n\n  // Auto-save functionality\n  useEffect(() => {\n    if (autoSave && isFormValid) {\n      const timer = setTimeout(() => {\n        console.log('Auto-saving article...', article.title);\n        localStorage.setItem('draft-article', JSON.stringify(article));\n      }, 3000);\n      return () => clearTimeout(timer);\n    }\n  }, [article, autoSave, isFormValid]);\n\n  // Keyboard shortcuts\n  useEffect(() => {\n    const handleKeyDown = (e: KeyboardEvent) => {\n      if (e.ctrlKey || e.metaKey) {\n        if (e.key === 'b') {\n          e.preventDefault();\n          insertFormatting('bold');\n        } else if (e.key === 'i') {\n          e.preventDefault();\n          insertFormatting('italic');\n        } else if (e.key === 's') {\n          e.preventDefault();\n          if (isFormValid) {\n            handleSave();\n          }\n        }\n      }\n    };\n\n    document.addEventListener('keydown', handleKeyDown);\n    return () => document.removeEventListener('keydown', handleKeyDown);\n  }, [isFormValid]);\n\n  const handleInputChange = (field: keyof ArticleData, value: string) => {\n    setArticle(prev => ({ ...prev, [field]: value }));\n  };\n\n  const handleImageUpload = (e: React.ChangeEvent<HTMLInputElement>) => {\n    const file = e.target.files?.[0];\n    if (file) {\n      const reader = new FileReader();\n      reader.onload = (e) => {\n        const result = e.target?.result as string;\n        setArticle(prev => ({ ...prev, imageUrl: result }));\n      };\n      reader.readAsDataURL(file);\n    }\n  };\n\n  const calculateReadTime = (content: string) => {\n    const wordsPerMinute = 200;\n    const words = content.trim().split(/\\s+/).filter(word => word.length > 0).length;\n    const minutes = Math.ceil(words / wordsPerMinute);\n    return `${minutes} min read`;\n  };\n\n  const handleContentChange = (content: string) => {\n    const readTime = calculateReadTime(content);\n    setArticle(prev => ({ ...prev, content, readTime }));\n  };\n\n  // Get current selection in textarea\n  const getCurrentSelection = () => {\n    if (textareaRef.current) {\n      const start = textareaRef.current.selectionStart;\n      const end = textareaRef.current.selectionEnd;\n      const selected = article.content.substring(start, end);\n      return { start, end, selected };\n    }\n    return { start: 0, end: 0, selected: '' };\n  };\n\n  // Insert formatting around selected text or at cursor\n  const insertFormatting = (format: string) => {\n    if (!textareaRef.current) return;\n\n    const { start, end, selected } = getCurrentSelection();\n    const beforeText = article.content.substring(0, start);\n    const afterText = article.content.substring(end);\n\n    let newText = '';\n    let cursorOffset = 0;\n\n    // Show active format temporarily\n    setActiveFormat(format);\n    setTimeout(() => setActiveFormat(''), 300);\n\n    switch (format) {\n      case 'bold':\n        newText = selected ? `**${selected}**` : '**Bold Text**';\n        cursorOffset = selected ? 0 : 2;\n        break;\n      case 'italic':\n        newText = selected ? `*${selected}*` : '*Italic Text*';\n        cursorOffset = selected ? 0 : 1;\n        break;\n      case 'heading':\n        const headingPrefix = beforeText && !beforeText.endsWith('\\n') ? '\\n' : '';\n        const headingSuffix = afterText && !afterText.startsWith('\\n') ? '\\n' : '';\n        newText = `${headingPrefix}## ${selected || 'Heading'}${headingSuffix}`;\n        cursorOffset = selected ? 0 : 3;\n        break;\n      case 'quote':\n        const quotePrefix = beforeText && !beforeText.endsWith('\\n') ? '\\n' : '';\n        const quoteSuffix = afterText && !afterText.startsWith('\\n') ? '\\n' : '';\n        newText = `${quotePrefix}> ${selected || 'Quote text'}${quoteSuffix}`;\n        cursorOffset = selected ? 0 : 2;\n        break;\n      case 'list':\n        const listPrefix = beforeText && !beforeText.endsWith('\\n') ? '\\n' : '';\n        const listSuffix = afterText && !afterText.startsWith('\\n') ? '\\n' : '';\n        newText = `${listPrefix}- ${selected || 'List item'}${listSuffix}`;\n        cursorOffset = selected ? 0 : 2;\n        break;\n      case 'center':\n        newText = selected ? `<div style=\"text-align: center\">${selected}</div>` : '<div style=\"text-align: center\">Centered text</div>';\n        cursorOffset = selected ? 0 : 30;\n        break;\n      case 'justify':\n        newText = selected ? `<div style=\"text-align: justify\">${selected}</div>` : '<div style=\"text-align: justify\">Justified text</div>';\n        cursorOffset = selected ? 0 : 31;\n        break;\n      default:\n        return;\n    }\n\n    const newContent = beforeText + newText + afterText;\n    const readTime = calculateReadTime(newContent);\n    setArticle(prev => ({ ...prev, content: newContent, readTime }));\n\n    // Reset cursor position\n    setTimeout(() => {\n      textareaRef.current?.focus();\n      const newPosition = selected ? start + newText.length : start + newText.length - cursorOffset;\n      textareaRef.current?.setSelectionRange(newPosition, newPosition);\n    }, 0);\n  };\n\n  // Drag and drop functionality\n  const handleDragOver = (e: React.DragEvent) => {\n    e.preventDefault();\n    setIsDragging(true);\n  };\n\n  const handleDragLeave = (e: React.DragEvent) => {\n    e.preventDefault();\n    setIsDragging(false);\n  };\n\n  const handleDrop = (e: React.DragEvent) => {\n    e.preventDefault();\n    setIsDragging(false);\n    \n    const files = Array.from(e.dataTransfer.files);\n    const imageFile = files.find(file => file.type.startsWith('image/'));\n    \n    if (imageFile) {\n      const reader = new FileReader();\n      reader.onload = (e) => {\n        const result = e.target?.result as string;\n        insertImageIntoContent(result);\n      };\n      reader.readAsDataURL(imageFile);\n    }\n  };\n\n  const handleContentImageUpload = (e: React.ChangeEvent<HTMLInputElement>) => {\n    const file = e.target.files?.[0];\n    if (file) {\n      const reader = new FileReader();\n      reader.onload = (e) => {\n        const result = e.target?.result as string;\n        insertImageIntoContent(result);\n        setShowImageInserter(false);\n      };\n      reader.readAsDataURL(file);\n    }\n  };\n\n  const insertImageIntoContent = (imageUrl: string) => {\n    if (!textareaRef.current) return;\n\n    const { start } = getCurrentSelection();\n    const beforeText = article.content.substring(0, start);\n    const afterText = article.content.substring(start);\n    \n    const imageMarkdown = `\\n![Image](${imageUrl})\\n`;\n    const newContent = beforeText + imageMarkdown + afterText;\n    \n    handleContentChange(newContent);\n    \n    setTimeout(() => {\n      textareaRef.current?.focus();\n      textareaRef.current?.setSelectionRange(start + imageMarkdown.length, start + imageMarkdown.length);\n    }, 0);\n  };\n\n  const handleSave = () => {\n    if (isFormValid) {\n      localStorage.removeItem('draft-article');\n      onSave(article);\n    }\n  };\n\n  const toggleAutoSave = () => {\n    setAutoSave(!autoSave);\n  };\n\n  const renderPreview = (content: string) => {\n    return content.split('\\n').map((paragraph, index) => {\n      // Handle images\n      if (paragraph.includes('![Image](')) {\n        const imageMatch = paragraph.match(/!\\[Image\\]\\((.*?)\\)/);\n        if (imageMatch) {\n          return (\n            <div key={index} className=\"content-image-container\">\n              <img src={imageMatch[1]} alt=\"Article content\" className=\"content-image\" />\n            </div>\n          );\n        }\n      }\n      \n      // Handle headings\n      if (paragraph.startsWith('## ')) {\n        return <h3 key={index} className=\"content-heading\">{paragraph.substring(3)}</h3>;\n      }\n      \n      // Handle quotes\n      if (paragraph.startsWith('> ')) {\n        return <blockquote key={index} className=\"content-quote\">{paragraph.substring(2)}</blockquote>;\n      }\n      \n      // Handle lists\n      if (paragraph.startsWith('- ')) {\n        return <li key={index} className=\"content-list-item\">{paragraph.substring(2)}</li>;\n      }\n      \n      // Handle HTML formatted content (center, justify)\n      if (paragraph.includes('<div style=')) {\n        return <div key={index} dangerouslySetInnerHTML={{ __html: paragraph }} />;\n      }\n      \n      // Handle bold and italic\n      let formattedParagraph = paragraph\n        .replace(/\\*\\*(.*?)\\*\\*/g, '<strong>$1</strong>')\n        .replace(/\\*(.*?)\\*/g, '<em>$1</em>');\n      \n      if (formattedParagraph.trim()) {\n        return <p key={index} dangerouslySetInnerHTML={{ __html: formattedParagraph }} />;\n      }\n      \n      return null;\n    });\n  };\n\n  return (\n    <div className=\"article-editor\">\n      <div className=\"editor-header\">\n        <h2>✍️ {initialData ? 'Edit Article' : 'Create New Article'}</h2>\n        <div className=\"editor-actions\">\n          <button \n            className={`auto-save-btn ${autoSave ? 'active' : ''}`}\n            onClick={toggleAutoSave}\n            title=\"Toggle auto-save (saves to localStorage)\"\n          >\n            {autoSave ? '💾 Auto-save ON' : '💾 Auto-save OFF'}\n          </button>\n          <button \n            className={`preview-btn ${isPreview ? 'active' : ''}`}\n            onClick={() => setIsPreview(!isPreview)}\n          >\n            {isPreview ? '📝 Edit' : '👁️ Preview'}\n          </button>\n          <button className=\"cancel-btn\" onClick={onCancel}>\n            ❌ Cancel\n          </button>\n          <button \n            className=\"save-btn\" \n            onClick={handleSave}\n            disabled={!isFormValid}\n            title={!isFormValid ? 'Please fill in title, excerpt, and content' : 'Save article'}\n          >\n            💾 Save Article\n          </button>\n        </div>\n      </div>\n\n      {!isPreview ? (\n        <div className=\"editor-form\">\n          <div className=\"form-row\">\n            <div className=\"form-group\">\n              <label htmlFor=\"title\">📝 Title</label>\n              <input\n                id=\"title\"\n                type=\"text\"\n                value={article.title}\n                onChange={(e) => handleInputChange('title', e.target.value)}\n                placeholder=\"Enter an engaging article title...\"\n                className=\"title-input\"\n              />\n            </div>\n          </div>\n\n          <div className=\"form-row\">\n            <div className=\"form-group\">\n              <label htmlFor=\"excerpt\">📄 Excerpt</label>\n              <textarea\n                id=\"excerpt\"\n                value={article.excerpt}\n                onChange={(e) => handleInputChange('excerpt', e.target.value)}\n                placeholder=\"Brief description that will appear in the blog card...\"\n                className=\"excerpt-input\"\n                rows={3}\n              />\n            </div>\n          </div>\n\n          <div className=\"form-row\">\n            <div className=\"form-group\">\n              <label htmlFor=\"category\">🏷️ Category</label>\n              <select\n                id=\"category\"\n                value={article.category}\n                onChange={(e) => handleInputChange('category', e.target.value)}\n                className=\"category-select\"\n              >\n                {categories.map(cat => (\n                  <option key={cat} value={cat}>{cat}</option>\n                ))}\n              </select>\n            </div>\n            <div className=\"form-group\">\n              <label htmlFor=\"author\">👤 Author</label>\n              <input\n                id=\"author\"\n                type=\"text\"\n                value={article.author}\n                onChange={(e) => handleInputChange('author', e.target.value)}\n                placeholder=\"Author name...\"\n                className=\"author-input\"\n              />\n            </div>\n          </div>\n\n          <div className=\"form-row\">\n            <div className=\"form-group\">\n              <label htmlFor=\"emoji\">🎨 Emoji (if no image)</label>\n              <input\n                id=\"emoji\"\n                type=\"text\"\n                value={article.image}\n                onChange={(e) => handleInputChange('image', e.target.value)}\n                placeholder=\"📝\"\n                className=\"emoji-input\"\n                maxLength={2}\n              />\n            </div>\n            <div className=\"form-group\">\n              <label htmlFor=\"image\">🖼️ Upload Cover Image</label>\n              <input\n                id=\"image\"\n                type=\"file\"\n                accept=\"image/*\"\n                onChange={handleImageUpload}\n                className=\"image-input\"\n              />\n            </div>\n          </div>\n\n          <div className=\"form-group\">\n            <label htmlFor=\"content\">📖 Article Content</label>\n            <div className=\"content-section\">\n              <div className=\"content-toolbar\">\n                <div className=\"toolbar-group\">\n                  <button \n                    type=\"button\" \n                    onClick={() => insertFormatting('bold')} \n                    className={`format-btn ${activeFormat === 'bold' ? 'active' : ''}`}\n                    title=\"Bold (Ctrl+B)\"\n                  >\n                    <strong>B</strong>\n                  </button>\n                  <button \n                    type=\"button\" \n                    onClick={() => insertFormatting('italic')} \n                    className={`format-btn ${activeFormat === 'italic' ? 'active' : ''}`}\n                    title=\"Italic (Ctrl+I)\"\n                  >\n                    <em>I</em>\n                  </button>\n                  <button \n                    type=\"button\" \n                    onClick={() => insertFormatting('heading')} \n                    className={`format-btn ${activeFormat === 'heading' ? 'active' : ''}`}\n                    title=\"Heading\"\n                  >\n                    <span className=\"heading-icon\">H</span>\n                  </button>\n                </div>\n                <div className=\"toolbar-separator\"></div>\n                <div className=\"toolbar-group\">\n                  <button \n                    type=\"button\" \n                    onClick={() => insertFormatting('center')} \n                    className={`format-btn ${activeFormat === 'center' ? 'active' : ''}`}\n                    title=\"Center Align\"\n                  >\n                    <span className=\"align-icon\">⊞</span>\n                  </button>\n                  <button \n                    type=\"button\" \n                    onClick={() => insertFormatting('justify')} \n                    className={`format-btn ${activeFormat === 'justify' ? 'active' : ''}`}\n                    title=\"Justify\"\n                  >\n                    <span className=\"align-icon\">≡</span>\n                  </button>\n                </div>\n                <div className=\"toolbar-separator\"></div>\n                <div className=\"toolbar-group\">\n                  <button \n                    type=\"button\" \n                    onClick={() => insertFormatting('quote')} \n                    className={`format-btn ${activeFormat === 'quote' ? 'active' : ''}`}\n                    title=\"Quote\"\n                  >\n                    <span className=\"quote-icon\">\"</span>\n                  </button>\n                  <button \n                    type=\"button\" \n                    onClick={() => insertFormatting('list')} \n                    className={`format-btn ${activeFormat === 'list' ? 'active' : ''}`}\n                    title=\"List\"\n                  >\n                    <span className=\"list-icon\">•</span>\n                  </button>\n                </div>\n                <div className=\"toolbar-separator\"></div>\n                <div className=\"toolbar-group\">\n                  <button \n                    type=\"button\" \n                    onClick={() => setShowImageInserter(!showImageInserter)} \n                    className={`format-btn image-btn ${showImageInserter ? 'active' : ''}`}\n                    title=\"Insert Image\"\n                  >\n                    🖼️\n                  </button>\n                  <button \n                    type=\"button\" \n                    onClick={() => setShowFormatHelp(!showFormatHelp)} \n                    className={`format-btn help-btn ${showFormatHelp ? 'active' : ''}`}\n                    title=\"Formatting Help\"\n                  >\n                    ❓\n                  </button>\n                </div>\n              </div>\n              \n              {showFormatHelp && (\n                <div className=\"format-help\">\n                  <h4>📝 Formatting Guide</h4>\n                  <div className=\"help-grid\">\n                    <div className=\"help-item\">\n                      <strong>Bold:</strong> **text** or select text and click B\n                    </div>\n                    <div className=\"help-item\">\n                      <strong>Italic:</strong> *text* or select text and click I\n                    </div>\n                    <div className=\"help-item\">\n                      <strong>Heading:</strong> ## text or select text and click H\n                    </div>\n                    <div className=\"help-item\">\n                      <strong>Quote:</strong> {'>'}  text or select text and click \"\n                    </div>\n                    <div className=\"help-item\">\n                      <strong>List:</strong> - text or select text and click •\n                    </div>\n                    <div className=\"help-item\">\n                      <strong>Center:</strong> Wraps text in center div\n                    </div>\n                    <div className=\"help-item\">\n                      <strong>Justify:</strong> Wraps text in justify div\n                    </div>\n                    <div className=\"help-item\">\n                      <strong>Images:</strong> Drag & drop or click 🖼️ to insert\n                    </div>\n                  </div>\n                </div>\n              )}\n              \n              {showImageInserter && (\n                <div className=\"image-inserter\">\n                  <input\n                    ref={contentImageInputRef}\n                    type=\"file\"\n                    accept=\"image/*\"\n                    onChange={handleContentImageUpload}\n                    className=\"content-image-input\"\n                  />\n                  <span className=\"image-inserter-text\">\n                    📸 Select an image to insert into the article at cursor position\n                  </span>\n                </div>\n              )}\n              \n              <div \n                className={`content-input-container ${isDragging ? 'dragging' : ''}`}\n                onDragOver={handleDragOver}\n                onDragLeave={handleDragLeave}\n                onDrop={handleDrop}\n              >\n                <textarea\n                  ref={textareaRef}\n                  id=\"content\"\n                  value={article.content}\n                  onChange={(e) => handleContentChange(e.target.value)}\n                  placeholder=\"Write your article content here using markdown...\"\n                  className=\"content-input\"\n                  rows={15}\n                />\n                {isDragging && (\n                  <div className=\"drag-overlay\">\n                    <div className=\"drag-message\">\n                      <span className=\"drag-icon\">📁</span>\n                      <span>Drop images here to insert them</span>\n                    </div>\n                  </div>\n                )}\n              </div>\n            </div>\n            <div className=\"content-meta\">\n              <span className=\"read-time\">📖 {article.readTime}</span>\n              <span className=\"word-count\">📝 {article.content.trim().split(/\\s+/).filter(w => w.length > 0).length} words</span>\n              <span className=\"char-count\">🔤 {article.content.length} characters</span>\n              {autoSave && isFormValid && (\n                <span className=\"auto-save-status\">💾 Auto-saving...</span>\n              )}\n            </div>\n          </div>\n        </div>\n      ) : (\n        <div className=\"article-preview\">\n          <div className=\"preview-card\">\n            {article.imageUrl ? (\n              <div className=\"preview-image\" style={{ backgroundImage: `url(${article.imageUrl})` }} />\n            ) : (\n              <div className=\"preview-default-image\">\n                <span className=\"preview-emoji\">{article.image}</span>\n              </div>\n            )}\n            <div className=\"preview-content\">\n              <h3 className=\"preview-title\">{article.title || 'Article Title'}</h3>\n              <p className=\"preview-excerpt\">{article.excerpt || 'Article excerpt will appear here...'}</p>\n              <div className=\"preview-category\">\n                <span className=\"category-badge\">{article.category}</span>\n              </div>\n              <div className=\"preview-meta\">\n                <span>{new Date().toLocaleDateString()}</span>\n                <span>{article.readTime}</span>\n                <span>By {article.author}</span>\n              </div>\n            </div>\n          </div>\n          <div className=\"preview-full-content\">\n            <h2>Full Article Content</h2>\n            <div className=\"preview-article-content\">\n              {renderPreview(article.content)}\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default ArticleEditor;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}