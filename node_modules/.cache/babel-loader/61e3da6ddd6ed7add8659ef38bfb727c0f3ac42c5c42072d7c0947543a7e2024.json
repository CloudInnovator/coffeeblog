{"ast":null,"code":"import React,{useState,useEffect}from'react';import'./SaveArticleButton.css';import{jsx as _jsx}from\"react/jsx-runtime\";const SaveArticleButton=_ref=>{let{articleId,title,excerpt,category,url}=_ref;const[isSaved,setIsSaved]=useState(false);useEffect(()=>{// Check if article is already saved\nconst savedArticles=JSON.parse(localStorage.getItem('savedArticles')||'[]');const isArticleSaved=savedArticles.some(article=>article.id===articleId);setIsSaved(isArticleSaved);},[articleId]);const handleSaveToggle=()=>{const savedArticles=JSON.parse(localStorage.getItem('savedArticles')||'[]');if(isSaved){// Remove from saved articles\nconst updatedArticles=savedArticles.filter(article=>article.id!==articleId);localStorage.setItem('savedArticles',JSON.stringify(updatedArticles));// Also remove associated notes\nconst userNotes=JSON.parse(localStorage.getItem('userNotes')||'[]');const updatedNotes=userNotes.filter(note=>note.articleId!==articleId);localStorage.setItem('userNotes',JSON.stringify(updatedNotes));setIsSaved(false);}else{// Add to saved articles\nconst newArticle={id:articleId,title,excerpt,category,url,savedAt:new Date().toISOString()};const updatedArticles=[...savedArticles,newArticle];localStorage.setItem('savedArticles',JSON.stringify(updatedArticles));setIsSaved(true);}};return/*#__PURE__*/_jsx(\"button\",{className:\"save-article-btn \".concat(isSaved?'saved':''),onClick:handleSaveToggle,title:isSaved?'Remove from saved':'Save article',children:isSaved?'ðŸ’¾ Saved':'ðŸ”– Save'});};export default SaveArticleButton;","map":{"version":3,"names":["React","useState","useEffect","jsx","_jsx","SaveArticleButton","_ref","articleId","title","excerpt","category","url","isSaved","setIsSaved","savedArticles","JSON","parse","localStorage","getItem","isArticleSaved","some","article","id","handleSaveToggle","updatedArticles","filter","setItem","stringify","userNotes","updatedNotes","note","newArticle","savedAt","Date","toISOString","className","concat","onClick","children"],"sources":["/home/brave/Documents/weekendproject/coffeeblog/src/components/SaveArticleButton.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport './SaveArticleButton.css';\n\ninterface SaveArticleButtonProps {\n  articleId: string;\n  title: string;\n  excerpt: string;\n  category: string;\n  url: string;\n}\n\nconst SaveArticleButton: React.FC<SaveArticleButtonProps> = ({\n  articleId,\n  title,\n  excerpt,\n  category,\n  url\n}) => {\n  const [isSaved, setIsSaved] = useState(false);\n\n  useEffect(() => {\n    // Check if article is already saved\n    const savedArticles = JSON.parse(localStorage.getItem('savedArticles') || '[]');\n    const isArticleSaved = savedArticles.some((article: any) => article.id === articleId);\n    setIsSaved(isArticleSaved);\n  }, [articleId]);\n\n  const handleSaveToggle = () => {\n    const savedArticles = JSON.parse(localStorage.getItem('savedArticles') || '[]');\n\n    if (isSaved) {\n      // Remove from saved articles\n      const updatedArticles = savedArticles.filter((article: any) => article.id !== articleId);\n      localStorage.setItem('savedArticles', JSON.stringify(updatedArticles));\n      \n      // Also remove associated notes\n      const userNotes = JSON.parse(localStorage.getItem('userNotes') || '[]');\n      const updatedNotes = userNotes.filter((note: any) => note.articleId !== articleId);\n      localStorage.setItem('userNotes', JSON.stringify(updatedNotes));\n      \n      setIsSaved(false);\n    } else {\n      // Add to saved articles\n      const newArticle = {\n        id: articleId,\n        title,\n        excerpt,\n        category,\n        url,\n        savedAt: new Date().toISOString()\n      };\n      const updatedArticles = [...savedArticles, newArticle];\n      localStorage.setItem('savedArticles', JSON.stringify(updatedArticles));\n      setIsSaved(true);\n    }\n  };\n\n  return (\n    <button\n      className={`save-article-btn ${isSaved ? 'saved' : ''}`}\n      onClick={handleSaveToggle}\n      title={isSaved ? 'Remove from saved' : 'Save article'}\n    >\n      {isSaved ? 'ðŸ’¾ Saved' : 'ðŸ”– Save'}\n    </button>\n  );\n};\n\nexport default SaveArticleButton;\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,MAAO,yBAAyB,CAAC,OAAAC,GAAA,IAAAC,IAAA,yBAUjC,KAAM,CAAAC,iBAAmD,CAAGC,IAAA,EAMtD,IANuD,CAC3DC,SAAS,CACTC,KAAK,CACLC,OAAO,CACPC,QAAQ,CACRC,GACF,CAAC,CAAAL,IAAA,CACC,KAAM,CAACM,OAAO,CAAEC,UAAU,CAAC,CAAGZ,QAAQ,CAAC,KAAK,CAAC,CAE7CC,SAAS,CAAC,IAAM,CACd;AACA,KAAM,CAAAY,aAAa,CAAGC,IAAI,CAACC,KAAK,CAACC,YAAY,CAACC,OAAO,CAAC,eAAe,CAAC,EAAI,IAAI,CAAC,CAC/E,KAAM,CAAAC,cAAc,CAAGL,aAAa,CAACM,IAAI,CAAEC,OAAY,EAAKA,OAAO,CAACC,EAAE,GAAKf,SAAS,CAAC,CACrFM,UAAU,CAACM,cAAc,CAAC,CAC5B,CAAC,CAAE,CAACZ,SAAS,CAAC,CAAC,CAEf,KAAM,CAAAgB,gBAAgB,CAAGA,CAAA,GAAM,CAC7B,KAAM,CAAAT,aAAa,CAAGC,IAAI,CAACC,KAAK,CAACC,YAAY,CAACC,OAAO,CAAC,eAAe,CAAC,EAAI,IAAI,CAAC,CAE/E,GAAIN,OAAO,CAAE,CACX;AACA,KAAM,CAAAY,eAAe,CAAGV,aAAa,CAACW,MAAM,CAAEJ,OAAY,EAAKA,OAAO,CAACC,EAAE,GAAKf,SAAS,CAAC,CACxFU,YAAY,CAACS,OAAO,CAAC,eAAe,CAAEX,IAAI,CAACY,SAAS,CAACH,eAAe,CAAC,CAAC,CAEtE;AACA,KAAM,CAAAI,SAAS,CAAGb,IAAI,CAACC,KAAK,CAACC,YAAY,CAACC,OAAO,CAAC,WAAW,CAAC,EAAI,IAAI,CAAC,CACvE,KAAM,CAAAW,YAAY,CAAGD,SAAS,CAACH,MAAM,CAAEK,IAAS,EAAKA,IAAI,CAACvB,SAAS,GAAKA,SAAS,CAAC,CAClFU,YAAY,CAACS,OAAO,CAAC,WAAW,CAAEX,IAAI,CAACY,SAAS,CAACE,YAAY,CAAC,CAAC,CAE/DhB,UAAU,CAAC,KAAK,CAAC,CACnB,CAAC,IAAM,CACL;AACA,KAAM,CAAAkB,UAAU,CAAG,CACjBT,EAAE,CAAEf,SAAS,CACbC,KAAK,CACLC,OAAO,CACPC,QAAQ,CACRC,GAAG,CACHqB,OAAO,CAAE,GAAI,CAAAC,IAAI,CAAC,CAAC,CAACC,WAAW,CAAC,CAClC,CAAC,CACD,KAAM,CAAAV,eAAe,CAAG,CAAC,GAAGV,aAAa,CAAEiB,UAAU,CAAC,CACtDd,YAAY,CAACS,OAAO,CAAC,eAAe,CAAEX,IAAI,CAACY,SAAS,CAACH,eAAe,CAAC,CAAC,CACtEX,UAAU,CAAC,IAAI,CAAC,CAClB,CACF,CAAC,CAED,mBACET,IAAA,WACE+B,SAAS,qBAAAC,MAAA,CAAsBxB,OAAO,CAAG,OAAO,CAAG,EAAE,CAAG,CACxDyB,OAAO,CAAEd,gBAAiB,CAC1Bf,KAAK,CAAEI,OAAO,CAAG,mBAAmB,CAAG,cAAe,CAAA0B,QAAA,CAErD1B,OAAO,CAAG,UAAU,CAAG,SAAS,CAC3B,CAAC,CAEb,CAAC,CAED,cAAe,CAAAP,iBAAiB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}